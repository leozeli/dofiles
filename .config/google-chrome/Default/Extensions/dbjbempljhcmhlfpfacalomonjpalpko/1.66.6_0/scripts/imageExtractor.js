/**
 * ImageAssistant
 * Project Home: http://www.pullywood.com/ImageAssistant/
 * Author: Joey
 * Copyright (C) 2013-2022 普利坞(Pullywood.com)
**/
"use strict";window._w_pulp=parseInt(_w_cuff("tabId"));window._w_morale=parseInt(_w_cuff("fetchLevel"));window._w_bench=_w_genre()._w_dearth();window._w_toxin=_w_genre()._w_snatch();window._w_crayon=0;window._w_bump=null;window._w_blotch=0;window._w_sock=[];window._w_rage={};window._w_accord=_w_genre()._w_hive(_w_bump);window._w_plank={};window._w_pleat=false;window._w_bark=null;window._w_anvil=null;window._w_farce=null;window._w_sleigh=0;window._w_zest=8;window._w_larva=_w_genre()._w_snare();window._w_hymn=null;window._w_girth=_w_raisin(8e3,16);window._w_domain={};window._w_maven=_w_fad(4);const _w_locust=1.8;const _w_lackey=screen.width*window.devicePixelRatio*_w_locust*(screen.height*window.devicePixelRatio*_w_locust);window.Worker&&(()=>{const _w_laity=!_w_slosh&&navigator&&navigator.hardwareConcurrency&&navigator.hardwareConcurrency>4?2:1;const _w_fell=[];let _w_scald=0;for(let i=0;i<_w_laity;++i){const _w_visage=new Worker("./scripts/pHashWorker.js");_w_visage.onmessage=_w_vermin;_w_fell.push(_w_visage)}let postMessage=_calc_data=>{_w_fell[_w_scald++%_w_fell.length].postMessage(_calc_data)};window._w_visage={postMessage:postMessage,concurrency:_w_fell.length}})();chrome.tabs.get(_w_pulp,(function(tab){if(!tab)return;window._w_anvil=tab.title;window._w_farce=tab.url;let _w_tatter=function(){return _w_anvil+" - "+_w_anvil};setInterval((function(){document.title="["+_w_sleigh+"/"+_w_blotch+"/"+_w_sock.length+"-retry:"+_w_maven.getProcessingNum()+"/"+_w_maven.getTaskNum()+"]/"+_w_tatter()}),100);window._w_bump=_w_genre()._w_rudder(_w_pulp)}));chrome.tabs.getCurrent((function(tab){window._w_bark=tab.id;$((function(){_w_shrine(_w_pulp,_w_grit)}))}));chrome.runtime.onMessage.addListener((function(message,sender,callback){message&&message.type=="_w_budget"&&_w_bump&&_w_bump.length>0&&message.extractorHash.length&&message.extractorHash==_w_bump&&callback({tabId:_w_bark});message&&message.type=="_w_unison"&&_w_bump&&_w_bump.length>0&&message.extractorHash.length&&message.extractorHash==_w_bump&&_w_yarn(_w_sock);message&&message.type=="_w_apron"&&_w_bump&&_w_bump.length>0&&message.extractorHash.length&&message.extractorHash==_w_bump&&_w_mammal(message.ItemIdxMap);message&&message.type=="_w_raffle"&&_w_raffle("#ext_main>.imageItem",true,false)}));function _w_grit(_w_ogle){if(!_w_pulp||_w_pulp.length==0){$("#ext_main").html(_w_tango("_w_fungi"));return}else if(_w_pulp==_w_bark){$("#ext_main").html(_w_tango("_w_haven"));return}else if(!_w_genre()._w_lot[_w_pulp]){$("#ext_main").html(_w_tango("_w_fungi"));return}else{try{let _w_rebate=new URL(_w_ogle.url);if(!_w_breed(_w_rebate.href)&&!_w_scurvy(_w_rebate.href)){$("#ext_main").html(_w_tango("_w_rescue"));return}}catch(e){console.log("parse url error."+_w_ogle.url);return}}window._w_bump=_w_genre()._w_rudder(_w_pulp);if(!_w_bump||_w_bump.length==0){$("#ext_main").html(_w_tango("_w_fungi"));return}else{let _w_list=_w_genre()._w_list;let _w_freak=setInterval((function updateTabPosition(){if(!_w_list[_w_pulp]){clearInterval(_w_freak)}else if(_w_list[_w_pulp].extractorHash==_w_bump){chrome.tabs.get(_w_pulp,(function(tab){chrome.tabs.getCurrent((function(currentTab){if(currentTab.windowId!=tab.windowId||currentTab.index!=tab.index+1){let _w_armada=tab.windowId;let _w_muddle=tab.index+1;if(_w_armada==currentTab.windowId&&currentTab.index<tab.index)_w_muddle=tab.index;try{chrome.tabs.move(currentTab.id,{windowId:_w_armada,index:_w_muddle},(function(){}))}catch(exception){}}}))}))}}),512)}let _w_rebate=null;if(_w_genre()._w_lot[_w_pulp].url){_w_rebate=new URL(_w_genre()._w_lot[_w_pulp].url)}if(_w_rebate&&!_w_scurvy(_w_rebate.href)){_w_genre()._w_salve(_w_pulp,_w_morale)}let _w_scar=setTimeout((function(){_w_sock=_w_genre()._w_loom(_w_bump);_w_rage=_w_genre()._w_brawl(_w_bump);_w_accord=_w_genre()._w_hive(_w_bump);_w_yarn(_w_sock)}),512);_w_genre()._w_budget(_w_bump,(function callback(data){if(data&&data.tabId&&data.tabId!=_w_bark){clearTimeout(_w_scar);chrome.tabs.update(data.tabId,{active:true},(function(tab){chrome.windows.update(tab.windowId,{focused:true,drawAttention:true},(function(window){_w_tenant(_w_bark)}))}))}}))}function _w_tread(_w_influx,_w_forge){if(_w_forge&&$("a[data-idx="+_w_influx+"]").length==0)return;let _w_swing=_w_sock[_w_influx];let _w_mystic=_w_sock[_w_swing].referer;if(/^data:image\/svg.*?<svg[^>]+><\/svg>$/i.test(_w_swing))return;_w_domain[_w_influx]=true;let _w_soot=null;let _w_cant=async function(){_w_sleigh--;delete _w_domain[_w_influx];let _w_ridge=_w_soot.getFetchEntry();this.onload=null;this.onabort=null;this.onerror=null;let _w_comic=_w_swing;let _w_lump=_w_sock[_w_comic];let _w_mystic=_w_lump.referer;if(this.naturalWidth<_w_toxin.width||this.naturalHeight<_w_toxin.height)return;let _w_track=null;let _w_gutter=null;{let _w_tilt=null;if(/^data:image\/.*?[,;].*?/i.test(_w_comic)){let match=_w_comic.match(/^data:(image\/.*?)[,;]/i);_w_tilt=match?_w_creek[match[1].toLowerCase()]:null}else if(/^https?:\/\/.*?/i.test(_w_comic)){_w_gutter=_w_ridge._w_gutter;_w_tilt=_w_ridge._w_gutter}_w_track=_w_tilt}let _w_gist=null;if(_w_comic.match(/^data:(image\/.*?)[,;]/i)){_w_gist=_w_track;_w_gutter=_w_ire(32)}else{if(!_w_gutter){let _w_falcon=new URL(_w_comic).pathname;_w_gutter=_w_falcon.substring(_w_falcon.lastIndexOf("/")+1)}_w_gist=_w_gutter.lastIndexOf(".")>-1?_w_gutter.substring(_w_gutter.lastIndexOf(".")+1).toLowerCase():null;_w_gutter.lastIndexOf(".")>-1&&(_w_gutter=_w_gutter.substring(0,_w_gutter.lastIndexOf(".")));if(_w_track&&_w_gist){if(_w_marrow[_w_track]!=_w_marrow[_w_gist]){_w_gist=_w_track}}else if(_w_track){_w_gist=_w_track}else if(_w_gist){if(_w_deluge[_w_gist]){_w_track=_w_deluge[_w_gist]}}}_w_track=_w_deluge[_w_track]?_w_deluge[_w_track]:"other";this.title=_w_tango("_w_bulge")+this.naturalWidth+"x"+this.naturalHeight+" / "+_w_tango("_w_peep")+_w_track.toUpperCase();_w_lump.title&&_w_lump.title.length>0&&(this.title+=" / Title: "+_w_lobby(_w_lump.title));_w_lump.alt&&_w_lump.alt.length>0&&_w_lump.title!=_w_lump.alt&&(this.title+=" / Alt: "+_w_lobby(_w_lump.alt));this.title=this.title;this.dataset.idx=_w_influx;let _w_smear=document.createElement("a");const _w_cello=(new Date).getTime()+_w_fang(4);_w_smear.setAttribute("class","imageItem");_w_smear.dataset.width=this.naturalWidth;_w_smear.dataset.height=this.naturalHeight;_w_smear.dataset.size=this.naturalWidth*this.naturalHeight;_w_smear.dataset.resolution=this.naturalWidth+"x"+this.naturalHeight;_w_smear.dataset.id=_w_cello;_w_smear.dataset.serial=_w_lump.serial;_w_smear.dataset.title=_w_lump.title?_w_lump.title:"";_w_smear.dataset.alt=_w_lump.alt?_w_lump.alt:"";_w_smear.dataset.idx=_w_influx;_w_smear.href=_w_ridge._w_stamp?_w_ridge._w_stamp:_w_comic;_w_smear.title=this.title;_w_smear.dataset.type=_w_track.toLowerCase();_w_smear.dataset.filename=_w_gutter;_w_smear.dataset.suffix=_w_gist?"."+_w_gist:".jpg";_w_smear.dataset.referer=_w_mystic;this.dataset.referer=_w_mystic;let _w_wallow=_w_mystic?_w_mystic.match(/([\d]+|[^\d]+)/g):[];for(let arrIdx in _w_wallow)if(!isNaN(_w_wallow[arrIdx]))_w_wallow[arrIdx]=_w_relish(_w_wallow[arrIdx],128);_w_smear._w_wallow=_w_wallow;_w_smear.dataset.maxRange="other";for(let i in _w_bench){if(isNaN(i))continue;let _w_nadir=_w_bench[i];let _w_adobe=_w_bench[_w_nadir];this.naturalWidth-_w_adobe.width>=0&&this.naturalHeight-_w_adobe.height>=0&&(_w_smear.dataset.maxRange=_w_nadir)}if(_w_ridge._w_egoism){this.dataset.src=_w_ridge._w_egoism;_w_smear.dataset.preview=_w_ridge._w_ploy}else{_w_ridge._w_egoism=await _w_agenda(this,{maxWidth:256,maxHeight:256});this.dataset.src=_w_ridge._w_egoism;_w_ridge._w_ploy=this.src;let _w_glance=_w_lackey/(this.naturalWidth*this.naturalHeight);if(_w_slosh&&_w_glance<1){_w_ridge._w_ploy=await _w_agenda(this,{maxWidth:this.naturalWidth*_w_glance,maxHeight:this.naturalHeight*_w_glance})}_w_smear.dataset.preview=_w_ridge._w_ploy}_w_smear.dataset.src=_w_comic;_w_smear.appendChild(this);$(_w_smear).append($("<div />",{class:"imageItemResolution",text:this.naturalWidth+"x"+this.naturalHeight}));let _w_stroke=false;let _w_hoard=this.naturalWidth*this.naturalHeight;let _w_pact=window._w_plank["serial_"+_w_lump.serial];if(_w_pact&&_w_pact>_w_hoard){return}else if($("a[data-serial="+_w_lump.serial+"][data-idx!="+_w_influx+"]").length>0){let $_w_ritual=$("a[data-serial="+_w_lump.serial+"][data-idx!="+_w_influx+"]");if($_w_ritual.is(".selected"))_w_stroke=true;$_w_ritual.remove()}window._w_plank["serial_"+_w_lump.serial]=_w_hoard;{let $_w_cipher=$("a[data-idx="+_w_influx+"]");if($_w_cipher.length>0){if($_w_cipher.is(".selected"))_w_stroke=true;if(_w_stroke)_w_smear.classList.add("selected");$_w_cipher.replaceWith(_w_smear)}else{$("#empty").remove();$("#ext_main").append(_w_smear)}}if(this.naturalWidth>this.naturalHeight){this.style.width=this.naturalWidth+"px"}else{this.style.height=this.naturalHeight+"px"}this.style.maxWidth=this.getBoundingClientRect().width+"px";this.style.maxHeight=this.getBoundingClientRect().height+"px";_w_smear.style.lineHeight=this.getBoundingClientRect().height-4+"px";_w_smear.style.width=_w_smear.getBoundingClientRect().width+"px";_w_smear.style.height=_w_smear.getBoundingClientRect().height+"px";this.style.width=null;this.style.height=null;$(_w_smear).colorbox({rel:"imageItem",transition:"none",photo:true,width:"100%",height:"100%",slideshow:true,slideshowAuto:false,slideshowSpeed:5e3,href:function(){return $(this).get(0).dataset.preview},onOpen:function(){let $_w_poll=$.colorbox.element();if($_w_poll.hasClass("preview_ignore_configure")){$("#colorbox").show()}else if("true"==_w_genre()._w_toady()){$_w_poll.hasClass("selected")?$_w_poll.removeClass("selected"):$_w_poll.addClass("selected");_w_raffle("#ext_main>.imageItem",true,false);$.colorbox.close();$("#colorbox").hide();return}else{$("#colorbox").show()}$_w_poll.removeClass("preview_ignore_configure");$("#hideScrollBarStyle").remove();let $_w_cone=$("<style />",{id:"hideScrollBarStyle",type:"text/css",text:"body::-webkit-scrollbar {display: none;} body { overflow-x:hidden; overflow-y:hidden;}"});$("head").append($_w_cone)},onCleanup:function(){$("#hideScrollBarStyle").remove();delete window.pinch_zoom;window.pinch_zoom=null},onComplete:function(){$("#cboxTitle").each((function(){$("#cboxTitle").attr("style","width:"+($(this).parent().width()-90)+"px; white-space:nowrap; overflow:hidden;")}));let cbxImg=$("#cboxLoadedContent img").get(0);let $cntr=$("<div />",{id:"cbxImgContainer"});$("#cboxLoadedContent").append($cntr);$(cbxImg).attr("id","cbxImg").appendTo($cntr);let _w_blazon=_w_bustle();delete window.wzoom;if(!_w_bucket()){$(cbxImg).unbind("click");if(window.innerWidth<cbxImg.naturalWidth||window.innerHeight<cbxImg.naturalHeight){$(cbxImg).removeClass("cboxPhoto").removeAttr("width").removeAttr("height").css("width","").css("height","");window.wzoom=WZoom.create(cbxImg,{rescale:_w_blazon,width:cbxImg.width,height:cbxImg.height,dragScrollableOptions:{smoothExtinction:.1,onGrab:null,onMove:_w_blazon,onDrop:null}})}else{$("#cbxImgContainer").css("align-items","flex-start")}}$cntr.on("click",(function(e){if(e.target==e.currentTarget){$.colorbox.close()}}));_w_queue()}});let _w_reaper=_w_genre()._w_valve()&16;if(_w_reaper){if(_w_ridge._w_salute){_w_vermin({data:{id:_w_cello,hash:_w_ridge._w_salute}})}else{let _w_yeast=new Image;_w_yeast.onload=async function(){this.onload=null;this.onerror=null;try{const imgBitmap=await createImageBitmap(this);const imgsize=32;let cvs=document.createElement("canvas");cvs.width=imgsize;cvs.height=imgsize;let ctx=cvs.getContext("2d");ctx.drawImage(imgBitmap,0,0,cvs.width,cvs.height);let imgData=ctx.getImageData(0,0,cvs.width,cvs.height);let data=imgData.data;window._w_visage.postMessage({id:_w_cello,width:imgsize,height:imgsize,data:data})}catch(e){console.log("send deduplication message error.",e)}};_w_yeast.onerror=function(){this.onload=null;this.onerror=null};_w_yeast.src=this.dataset.src}}if(!_w_dwarf(this)&&$("#ext_main>.imageItem:visible").length>_w_genre()._w_clamp()){if(!_w_bucket())this.src=_w_spell}$(this).on("mouseover click drag",(function(){let self=$(this).get(0);if(self.src!=self.parentNode.href){self.src=self.parentNode.href}}));_w_nectar("#ext_main>.imageItem");$("#image_amount").html(_w_relish($(".imageItem").length,6))};{let _w_pest={};_w_pest[_w_swing]=_w_mystic;_w_genre()._w_toll(_w_pest,_w_bark,true)}let _w_throng=/^https?:/.test(_w_swing)?4:0;let _w_thrall=new Image;_w_thrall.onload=_w_cant;_w_thrall.onerror=function(){_w_sleigh--;_w_throng=-1;if(!_w_soot.isTimeout()&&_w_throng-- >0){let _w_herald=function(){setTimeout((function(){_w_sleigh++;_w_soot=_w_girth.setImgSrc(_w_thrall,_w_swing,true)}),2e3)};_w_maven.addTask((function(_w_scoff,_w_lash){_w_scoff();function clearReferer(_w_gamble){let _w_pest={};_w_pest[_w_gamble]=null;_w_genre()._w_toll(_w_pest,_w_bark,true)}let _w_ridge=_w_soot.getFetchEntry();if(_w_ridge._w_icicle==200){if(xhr.status==200){clearReferer(_w_truant)}_w_herald()}else if(_w_ridge._w_icicle==404){delete _w_domain[_w_influx]}else if(_w_ridge._w_icicle==403){clearReferer(_w_truant);_w_herald()}else{_w_herald()}_w_lash()}))}};_w_thrall.onabort=_w_thrall.onerror;if(_w_girth.bypassUrl(_w_swing)){_w_sleigh++;_w_soot=_w_girth.directSetImgSrc(_w_thrall,_w_swing,false)}else{_w_sleigh++;_w_soot=_w_girth.setImgSrc(_w_thrall,_w_swing,false)}}function _w_bustle(){let $toolbarContainer=$("#cboxLoadedContent");let $targetImg=$("#cboxLoadedContent img");let $toolbar=$("<div />",{class:"cbxToolbar"});$toolbarContainer.append($toolbar);const transform={r:0,x:1,y:1};let imgRender=function(){let matches=$targetImg.attr("style").match(/transform:([^;]*?);/);let curTransform="";if(matches&&matches.length==2){curTransform=matches[1].replace(/ ?rotate\(.*?\)/,"").replace(/ ?scaleX\(.*?\)/,"").replace(/ ?scaleY\(.*?\)/,"")}let transformStyle=`${curTransform} rotate(${transform.r}deg) scaleX(${transform.x}) scaleY(${transform.y})`;$targetImg.css("transform",transformStyle)};$toolbar.append($("<i />",{class:"glyphicon glyphicon-share "+(_w_bucket()?"on":""),title:_w_tango("_w_shawl")}).on("click",(function(){if($(this).is(".on")){localStorage["drag_download_switch"]="off"}else{localStorage["drag_download_switch"]="on"}$(window).resize();$.colorbox.element().click()})));$toolbar.append($("<br />"));$toolbar.append($("<i />",{class:"glyphicon glyphicon-arrow-left",title:_w_tango("_w_crate")}).on("click",(function(e){$.colorbox.prev()})));$toolbar.append($("<i />",{class:"glyphicon glyphicon-arrow-right",title:_w_tango("_w_iodine")}).on("click",(function(e){$.colorbox.next()})));$toolbar.append($("<i />",{class:"glyphicon glyphicon-download-alt",title:_w_tango("_w_fawn")}).on("click",(function(e){_w_trowel($.colorbox.element(),true)})));$toolbar.append($("<i />",{class:"glyphicon glyphicon-plus",title:_w_tango("_w_apogee")}).on("click",(function(e){_w_famine()})));$toolbar.append($("<i />",{class:"glyphicon glyphicon-minus",title:_w_tango("_w_dwarf")}).on("click",(function(e){_w_clasp()})));$toolbar.append($("<br />"));$toolbar.append($("<i />",{class:"fas fa-redo-alt",title:_w_tango("_w_brooch")}).on("click",(function(e){transform.r+=90;imgRender()})));$toolbar.append($("<i />",{class:"fas fa-undo-alt",title:_w_tango("_w_soot")}).on("click",(function(e){transform.r-=90;imgRender()})));$toolbar.append($("<i />",{class:"fas fa-copy",title:_w_tango("_w_ravine")}).on("click",(function(e){navigator.clipboard.writeText($.colorbox.element().get(0).dataset.src)})));$toolbar.append($("<i />",{class:"fas fa-exchange-alt",title:_w_tango("_w_bigot")}).on("click",(function(e){transform.x*=-1;imgRender()})));$toolbar.append($("<i />",{class:"fas fa-exchange-alt fa-rotate-90",title:_w_tango("_w_hack")}).on("click",(function(e){transform.y*=-1;imgRender()})));return imgRender}function _w_recipe(url,_w_mare){let _w_burial=url;let _w_fury=_w_rage[url];if(_w_fury&&_w_fury.title&&_w_fury.title.length>0){_w_burial=_w_fury.title}else if(_w_mare){_w_burial=_w_mare}return _w_burial}function _w_yarn(_w_sock){for(;_w_blotch<_w_sock.length;){if(_w_sleigh>=_w_zest){break}else if($("a.imageItem").length>=_w_larva-_w_sleigh){break}else{_w_tread(_w_blotch++,false)}}}setInterval((function(){_w_yarn(_w_sock)}),500);function _w_mammal(_w_shale){for(let idx in _w_shale){if(!_w_sock)continue;_w_tread(idx,true)}}$((function(){document.title=_w_tango("_w_spoor");$.extend($.colorbox.settings,{current:_w_tango("_w_uproar"),previous:_w_tango("_w_crack"),next:_w_tango("_w_grotto"),close:_w_tango("_w_canyon"),xhrError:_w_tango("_w_sprout"),imgError:_w_tango("_w_plait"),slideshowStart:_w_tango("_w_mammal"),slideshowStop:_w_tango("_w_salve")})}));$((function(){$(window).bind("scroll resize",(function(){_w_raffle("#ext_main>.imageItem",false,false)}))}));$((function(){}));window.selectParam={timeout:128,lastExeTime:new Date,timer:null,updateStatics:true,delayAgain:false};$((function(){$("#ext_main").on("mousedown",(function dnFun(dnEvent){if(dnEvent.button==0){let $_w_closet=$(dnEvent.target);if(!$_w_closet.is("#ext_main")&&$_w_closet.parents("#ext_main").length<=0){return}else if($_w_closet.is("a.imageItem img")){return}else if($(".modal-dialog").is(":visible")||$("#colorbox").is(":visible")){return}dnEvent.preventDefault();$(".selectorDiv").remove();$(this).off("mousemove");$(this).off("mouseup");let $_w_gambol=$("<div />",{class:"selectorDiv"});$(this).append($_w_gambol);let _w_mull,mvFun,moveStep=0;$("body").on("mousemove",mvFun=function(mvEvent){let _w_germ={};_w_germ.x1=dnEvent.pageX<=mvEvent.pageX?dnEvent.pageX:mvEvent.pageX;_w_germ.y1=dnEvent.pageY<=mvEvent.pageY?dnEvent.pageY:mvEvent.pageY;_w_germ.x2=dnEvent.pageX>=mvEvent.pageX?dnEvent.pageX:mvEvent.pageX;_w_germ.y2=dnEvent.pageY>=mvEvent.pageY?dnEvent.pageY:mvEvent.pageY;if(++moveStep==1||_w_germ.x2-_w_germ.x1<4&&_w_germ.y2-_w_germ.y1<4)return true;_w_sprout(selectParam,(function(){$_w_gambol.css("z-index","1020").css("border","2px solid #3399ff").css("background-color","rgba(51, 153, 255, 0.2)").css("position","absolute").css("left",_w_germ.x1+"px").css("top",_w_germ.y1+"px").css("width",_w_germ.x2-_w_germ.x1+"px").css("height",_w_germ.y2-_w_germ.y1+"px");$(".imageItem").each((function(){let _w_parity=$(this).get(0);let _w_irony={x1:_w_parity.offsetLeft,y1:_w_parity.offsetTop,x2:_w_parity.offsetLeft+_w_parity.offsetWidth,y2:_w_parity.offsetTop+_w_parity.offsetHeight};if(_w_irony.y2<_w_germ.y1||_w_irony.x2<_w_germ.x1||_w_irony.y1>_w_germ.y2||_w_irony.x1>_w_germ.x2){$(this).removeClass("preSelect preUnSelect")}else{$(this).hasClass("selected")?$(this).addClass("preUnSelect"):$(this).addClass("preSelect")}}))}),false)}).on("mouseup",_w_mull=function(upEvent){if(upEvent.button==0){$(this).off("mousemove",mvFun);$(this).off("mouseup",_w_mull);$_w_gambol.remove();$(".imageItem").removeClass("preSelect preUnSelect");let _w_germ={};_w_germ.x1=dnEvent.pageX<=upEvent.pageX?dnEvent.pageX:upEvent.pageX;_w_germ.y1=dnEvent.pageY<=upEvent.pageY?dnEvent.pageY:upEvent.pageY;_w_germ.x2=dnEvent.pageX>=upEvent.pageX?dnEvent.pageX:upEvent.pageX;_w_germ.y2=dnEvent.pageY>=upEvent.pageY?dnEvent.pageY:upEvent.pageY;if(moveStep==1||_w_germ.x2-_w_germ.x1<4&&_w_germ.y2-_w_germ.y1<4)return true;$(upEvent.target).one("click",(function(event){event.preventDefault();event.stopPropagation()}));_w_sprout(selectParam,(function(){$(".imageItem").each((function(){let _w_parity=$(this).get(0);let _w_irony={x1:_w_parity.offsetLeft,y1:_w_parity.offsetTop,x2:_w_parity.offsetLeft+_w_parity.offsetWidth,y2:_w_parity.offsetTop+_w_parity.offsetHeight};if(_w_irony.y2<_w_germ.y1||_w_irony.x2<_w_germ.x1||_w_irony.y1>_w_germ.y2||_w_irony.x1>_w_germ.x2){}else{$(this).hasClass("selected")?$(this).removeClass("selected"):$(this).addClass("selected")}}));_w_raffle("#ext_main>.imageItem",true,false)}),false)}})}}))}));function _w_barn(){$(".imageItem:visible").addClass("selected");_w_queue();_w_raffle("#ext_main>.imageItem",true,true)}function _w_gusto(){$(".imageItem:visible").removeClass("selected");_w_queue();_w_raffle("#ext_main>.imageItem",true,true)}function _w_amity(){let $_w_cravat=$(".imageItem:visible.selected");let $_w_uproar=$(".imageItem:visible:not(.selected)");$_w_cravat.removeClass("selected");$_w_uproar.addClass("selected");_w_queue();_w_raffle("#ext_main>.imageItem",true,true)}function _w_inroad(){if($("#cboxLoadedContent").length>0){let _w_luxury=$("#cboxLoadedContent img").attr("src");$.colorbox.element().remove();$.colorbox.next();$(".imageItem:visible").length==0&&$.colorbox.close()}else{$(".selected:visible").remove();_w_queue()}_w_raffle("#ext_main>.imageItem",true,true)}function _w_nuance(){$(".imageItem:hidden").remove();_w_queue();_w_raffle("#ext_main>.imageItem",true,true)}function _w_hilt(){if($(".selected:visible").length>0){$(".imageItem:not(.selected):visible").remove();_w_queue();_w_raffle("#ext_main>.imageItem",true,true)}}function _w_boor(){$(".imageItem.selected:visible").remove();$(".imageItem:visible").addClass("selected");let _w_cord=new Array;$(".imageItem.selected:visible").each((function(){_w_cord.push({name:"",url:$(this).attr("href"),referer:$(this).attr("data-referer"),serial:$(this).attr("data-serial"),filename:$(this).attr("data-filename"),suffix:$(this).attr("data-suffix")})}));return _w_cord}function _w_heresy(_w_trawl=false){if($("#cboxLoadedContent").length>0){_w_trowel($.colorbox.element(),true)}else{_w_trowel($(".selected:visible"),_w_trawl)}}function _w_trowel($_w_facade,_w_trawl=false){let _w_cord=new Array;$_w_facade.each((function(){_w_cord.push({name:"",url:$(this).attr("href"),src:$(this).attr("data-src"),referer:$(this).attr("data-referer"),serial:$(this).attr("data-serial"),filename:$(this).attr("data-filename"),suffix:$(this).attr("data-suffix")})}));if(_w_trawl){_w_limbo(_w_cord)}else{_w_plumb(_w_cord,_w_boor)}}function _w_outlet(){_w_trowel($(".imageItem:visible"),false)}function _w_owl(){let _w_bulk=function(){$("#pullywood_production").popover({title:"<span class='glyphicon glyphicon-info-sign'></span> "+_w_tango("_w_medley"),content:_w_tango("_w_marrow"),placement:"auto",html:true}).popover("show").next().on("click",(function(){$(this).popover("destroy")})).prev().on("mouseover",(function(){$(this).popover("destroy")}))};$.ajax({method:"get",url:_w_hack,dataType:"json",contentType:"application/json",mimeType:"application/json"}).done((function(data){if(data&&data.version){_w_moment()}else if(data&&!data.version){alert(_w_tango("_w_tease"))}else{_w_bulk()}})).fail((function(){_w_bulk()}))}function _w_moment(){let _w_cord=$(".imageItem.selected:visible").toArray();if(_w_cord.length<=0){alert(_w_tango("_w_hamper"));return}let $_w_amble=$("<div />",{id:"add_favorite_dlg",class:"modal fade",role:"dialog"});let $_w_strut=$("<div />",{class:"modal-dialog"});let $_w_mutton=$("<div />",{class:"modal-content"});let $_w_sow=$("<div />",{class:"modal-header"});let $_w_banter=$("<h4 />",{class:"modal-title"});let $_w_jazz=$("<div />",{class:"modal-body"});let $_w_slaver=$("<div />",{class:"modal-footer"});$_w_sow.append($_w_banter);$_w_mutton.append($_w_sow);$_w_mutton.append($_w_jazz);$_w_mutton.append($_w_slaver);$_w_strut.append($_w_mutton);$_w_amble.append($_w_strut);$_w_banter.append($("<span />",{class:"fab fa-app-store"})).append(_w_tango("_w_mint"));let $_w_elegy=$("<div />",{class:"alert alert-info",html:_w_tango("_w_frisk")+_w_cord.length});$_w_jazz.append($_w_elegy);let $_w_batch=$("<input />",{type:"checkbox",name:"continuousSwitch"});$_w_slaver.append($("<span />",{class:"continuousSwitchContainer"}).append($_w_batch));$_w_batch.bootstrapSwitch({labelText:_w_tango("_w_vagary")});let $_w_sewer=$("<button />",{class:"btn btn-primary",disabled:false,text:_w_tango("_w_jazz")});$_w_sewer.prepend($("<span />",{class:"glyphicon glyphicon-floppy-open"}));$_w_sewer.on("click",(function(){$_w_sewer.attr("disabled",true);let _w_gaze=$_w_batch.is(":checked");let _w_bait=_w_cord;_w_cord=new Array;let _w_lure=[];_w_bait.forEach((function(taskItem){_w_lure.push({src:$(taskItem).attr("data-src"),referer:$(taskItem).attr("data-referer"),description:typeof $(taskItem).attr("title")!="undefined"?$(taskItem).attr("title").replace(/分辨率:\s\d+x\d+\s\/\s类型:\s[a-zA-Z0-9]+(\s\/\s)?/gi,""):"",width:$(taskItem).attr("data-width"),height:$(taskItem).attr("data-height"),extHash:_w_bump,serial:$(taskItem).attr("data-serial")})}));$_w_elegy.text(_w_tango("_w_locale"));if(!$_w_amble.is(":visible")){return}$.ajax({method:"post",url:_w_swirl,data:JSON.stringify(_w_lure),dataType:"json",contentType:"application/json",mimeType:"application/json"}).done((function(result){$_w_elegy.text(_w_tango("_w_strut"))})).fail((function(a,b,c){console.log("fialed",a,b,c);_w_cord=_w_bait;let $_w_ballad=$_w_sewer.children().first();$_w_sewer.text(_w_tango("_w_grit")).prepend($_w_ballad).attr("disabled",_w_gaze?true:false);$_w_elegy.text(_w_tango("_w_shroud"))})).always((function(){if(_w_gaze){let _w_sloven=500;if(_w_cord.length>0){console.log(JSON.stringify(_w_cord));$_w_elegy.text(_w_tango("_w_donor"))}else{$(".imageItem.selected:visible").remove();$_w_elegy.text(_w_tango("_w_lackey"))}let _w_helm=setInterval((function continuousAdd(){if(_w_cord.length==0){_w_barn();_w_cord=$(".imageItem.selected:visible").toArray()}if(_w_cord&&_w_cord.length>0){clearInterval(_w_helm);$_w_sewer.click()}}),_w_sloven)}else{$(this).remove()}}))}));$_w_slaver.append($_w_sewer);let $_w_ballot=$("<button />",{class:"btn btn-default","data-dismiss":"modal",text:_w_tango("_w_pinch")});$_w_ballot.prepend($("<span />",{class:"glyphicon glyphicon-remove"}));$_w_ballot.on("click",(function(){}));$_w_slaver.append($_w_ballot);$_w_amble.modal({backdrop:"static",keyboard:false}).on("hidden.bs.modal",(function(){$(this).remove()}))}function _w_famine(){if($("#cboxLoadedContent").length>0){$("#cbxImg").addClass("colorboxSelect");$(".imageItem:not(.selected):visible[href='"+$("#cboxLoadedContent img").attr("src")+"']").addClass("selected")}}function _w_clasp(){if($("#cboxLoadedContent").length>0){$("#cbxImg").removeClass("colorboxSelect");$(".imageItem.selected:visible[href='"+$("#cboxLoadedContent img").attr("src")+"']").removeClass("selected")}}function _w_queue(){if($("#cboxLoadedContent").length>0){$("#cbxImg").removeClass("colorboxSelect");$.colorbox.element().is(".selected:visible")&&$("#cbxImg").addClass("colorboxSelect")}}function _w_carat(){let _w_scad={0:1,1:3,3:2,2:0};let _w_jolt=_w_genre()._w_valve();let _w_fungi=_w_scad[_w_jolt];"undefined"==typeof _w_fungi&&(_w_fungi=3);_w_genre()._w_mint(_w_fungi);_w_raffle("#ext_main>.imageItem",true,false)}function _w_salmon(){_w_nectar("#ext_main>.imageItem")}function _w_grief(){let _w_fungi=_w_genre()._w_valve();if($("#sort_switch").is(".active")){_w_fungi&=~4}else{_w_fungi|=4}_w_genre()._w_mint(_w_fungi);_w_raffle("#ext_main>.imageItem",true,false)}function _w_dimple(){let _w_fungi=_w_genre()._w_valve();if(_w_fungi&8){_w_fungi&=~8}else{_w_fungi|=8}_w_genre()._w_mint(_w_fungi);_w_raffle("#ext_main>.imageItem",true,false)}function _w_bazaar(){console.log("doImageDeduplication executed.");document.querySelectorAll("a.imageItem:not([data-phash])").forEach((item=>{_w_tread(item.dataset.idx,true)}))}function _w_artery(){let _w_fungi=_w_genre()._w_valve();if($("#imageDeduplication_switch").is(".active")){_w_fungi&=~16}else{_w_fungi|=16}_w_genre()._w_mint(_w_fungi);_w_raffle("#ext_main>.imageItem",true,false)}function _w_tag(){chrome.tabs.get(_w_pulp,(function(tab){if(tab&&_w_farce==tab.url){chrome.tabs.remove(tab.id,(function(){window.close()}))}else{window.close()}}))}$((function(){let $_w_purse=$("<div>",{class:"btn-group btn-group-xs"});let $_w_sill=$("<a />",{target:"_configure_",class:"btn btn-pwd",href:"options.html",text:_w_tango("_w_iota")});$_w_sill.prepend($("<span />",{class:"glyphicon glyphicon-wrench"}));let $_w_revue=$("<a />",{target:"_configure_",class:"btn btn-home",href:"options.html?showMsg=about",text:_w_tango("_w_comity")});$_w_revue.prepend($("<span />",{class:"glyphicon glyphicon-copyright-mark"}));let $_w_mitten=$("<a />",{target:"_ImageAssistant_Plus_",id:"_ImageAssistant_Plus_",class:"btn btn-default",href:"https://www.pullywood.com/ImageAssistant_Plus/",text:_w_tango("_w_truism")});$_w_mitten.prepend($("<span />",{class:"fab fa-app-store"}));let $_w_medium=$("<a />",{target:"_pullywood_production_",id:"_pullywood_home_",class:"btn btn-default",href:"https://www.pullywood.com",text:_w_tango("_w_arson")});$_w_medium.prepend($("<span />",{class:"glyphicon glyphicon-home"}));$_w_purse.append($_w_sill).append($_w_revue).append($_w_mitten).append($_w_medium);$("#pullywood_production").append($_w_purse);let _w_lure=[{name:_w_tango("_w_resort"),showText:true,className:"mainMenuItem",iconClass:"glyphicon glyphicon-refresh",fun:function(){$("#ext_main .imageItem").remove();_w_blotch=0;_w_yarn(_w_sock)}},{name:_w_tango("_w_flange"),showText:true,className:"mainMenuItem",iconClass:"glyphicon glyphicon-align-justify",fun:_w_barn},{name:"",showText:false,className:"mainMenuItem",iconClass:"glyphicon glyphicon-collapse-down",fun:function(){},subMenu:[{name:_w_tango("_w_grove"),showText:true,className:"mainMenuItem",iconClass:"glyphicon glyphicon-list",fun:_w_gusto},{name:_w_tango("_w_wag"),showText:true,className:"mainMenuItem",iconClass:"glyphicon glyphicon-retweet",fun:_w_amity}]},{name:_w_tango("_w_stake"),showText:true,className:"mainMenuItem",iconClass:"glyphicon glyphicon-trash",fun:_w_inroad},{name:"",showText:false,className:"mainMenuItem",iconClass:"glyphicon glyphicon-collapse-down",fun:function(){},subMenu:[{name:_w_tango("_w_razor"),className:"mainMenuItem",iconClass:"glyphicon glyphicon-remove",fun:_w_nuance},{name:_w_tango("_w_pane"),showText:true,className:"mainMenuItem",iconClass:"glyphicon glyphicon-log-in",fun:_w_hilt}]},{name:_w_tango("_w_diva"),showText:true,className:"mainMenuItem",iconClass:"glyphicon glyphicon-cloud-download",fun:function(){_w_heresy(false)}},{name:"",showText:false,className:"mainMenuItem",iconClass:"glyphicon glyphicon-collapse-down",fun:function(){},subMenu:[{name:_w_tango("_w_roe"),showText:true,className:"mainMenuItem",iconClass:"glyphicon glyphicon-download",fun:_w_outlet}]},{name:_w_tango("_w_glance"),showText:true,className:"mainMenuItem",iconClass:"glyphicon glyphicon-folder-open",fun:_w_vogue}];let $_w_guy=$("#select_menu");$_w_guy.addClass("container btn-group btn-group-sm");$_w_guy.attr("role","group");for(let i in _w_lure){if(isNaN(i))continue;let _w_adobe=_w_lure[i];if(_w_adobe.subMenu){let $_w_crumb=$("<div />",{class:"btn-group btn-group-sm",role:"group"});let $_w_pawn=$("<button />",{type:"button",class:"btn btn-default dropdown-toggle","data-toggle":"dropdown","aria-expanded":"false"});$_w_pawn.append($("<span />",{class:"caret"}));$_w_crumb.append($_w_pawn);$_w_guy.append($_w_crumb);let $_w_regent=$("<ul />",{class:"dropdown-menu dropdown-menu-right",role:"menu"});for(let j in _w_adobe.subMenu){if(isNaN(j))continue;let _w_minion=_w_adobe.subMenu[j];let $_w_badger=$("<li />");let $_w_smear=$("<a />",{href:"#"});$_w_smear.append($("<span />",{class:_w_minion.iconClass,"aria-hidden":true}));$_w_smear.append(" "+_w_minion.name);$_w_badger.append($_w_smear);$_w_regent.append($_w_badger);$_w_smear.on("click",_w_minion.fun)}$_w_crumb.append($_w_regent);$_w_guy.append($_w_crumb)}else{let $_w_pawn=$("<button />",{class:"btn btn-default"});$_w_pawn.append($("<span />",{class:_w_adobe.iconClass,"aria-hidden":true}));_w_adobe.showText&&$_w_pawn.append(" "+_w_adobe.name);$_w_guy.append($_w_pawn);$_w_pawn.on("click",_w_adobe.fun)}}let $_w_gaggle=$("<input />",{type:"checkbox"});$_w_guy.append($("<div />",{style:"float:right;text-align:right;"}).append($_w_gaggle));$_w_gaggle.bootstrapSwitch({size:"small",labelWidth:50,labelText:_w_tango("_w_skunk"),onColor:"success",offColor:"none",onText:"",offText:"",state:"true"==_w_genre()._w_toady(),onSwitchChange:function(event,state){_w_genre()._w_fervor(state)}});$(document).on("keydown",(function(e){if(_w_choir(e))return;if($("#download_confirm_dlg").length>0)return true;e.which==88&&e.shiftKey&&e.altKey&&_w_tag();e.which==68&&!e.ctrlKey&&_w_heresy(true)&e.preventDefault();e.which==68&&e.ctrlKey&&_w_heresy(false)&e.preventDefault();e.which==109&&!e.ctrlKey&&_w_clasp()&e.preventDefault();e.which==107&&!e.ctrlKey&&_w_famine()&e.preventDefault();(e.which==46||e.which==110)&&_w_inroad()&e.preventDefault();if($("#cboxOverlay, .modal-dialog").is(":visible"))return true;e.which==65&&e.ctrlKey&&_w_barn()&e.preventDefault();e.which==90&&e.ctrlKey&&_w_gusto()&e.preventDefault();e.which==82&&e.ctrlKey&&_w_amity()&e.preventDefault();e.which==83&&e.ctrlKey&&_w_hilt()&e.preventDefault();e.which==70&&e.ctrlKey&&_w_owl()&e.preventDefault();e.which==77&&e.altKey&&_w_carat()&e.preventDefault();e.which==83&&e.altKey&&_w_grief()&e.preventDefault();e.which==84&&e.altKey&&_w_dimple()&e.preventDefault();e.which==72&&e.altKey&&_w_artery()&e.preventDefault()}));let _w_browse=[{name:_w_tango("_w_oath"),showText:true,className:"imageContextMenuURLE",iconClass:"glyphicon glyphicon-picture",fun:function(){let _w_tinder=$(this).attr("data-id");$(".imageItem[data-id='"+_w_tinder+"']").addClass("preview_ignore_configure").trigger("click")}},{name:_w_tango("_w_volley"),showText:true,className:"imageContextMenuURLE",iconClass:"glyphicon glyphicon-download",fun:function(e){_w_trowel($(".imageItem[data-id="+e.target.dataset.id+"]"),true)}},{name:_w_tango("_w_fig"),showText:true,className:"imageContextMenuURL",iconClass:"glyphicon glyphicon-qrcode",fun:function(){$(this).attr("data-src")&&_w_nymph($(this).attr("data-src"),true)}},{name:_w_tango("_w_dainty"),showText:true,className:"imageContextMenuURLE",iconClass:"glyphicon glyphicon-edit",fun:function(){$(this).attr("data-src")&&_w_genre()._w_faucet($(this).attr("data-src"),$(this).attr("data-referer"),-1)}},{name:_w_tango("_w_roster"),showText:true,className:"imageContextMenuURLE",iconClass:"glyphicon glyphicon-picture",fun:function(){$(this).attr("data-src")&&_w_genre()._w_tract($(this).attr("data-src"),$(this).attr("data-referer"),-1)}},{name:_w_tango("_w_scamp"),showText:true,className:"imageContextMenuURL",iconClass:"fab fa-google",fun:function(){$(this).attr("data-src")&&_w_den($(this).attr("data-src"))}},{name:_w_tango("_w_hut"),showText:true,className:"imageContextMenuURL",iconClass:"fab fa-google",fun:function(){$(this).attr("data-src")&&_w_venom($(this).attr("data-src"))}},{name:_w_tango("_w_bait"),showText:true,className:"imageContextMenuURL",iconClass:"fab fa-google",fun:function(){$(this).attr("data-src")&&_w_dandy($(this).attr("data-src"))}}];_w_lure=_w_lure.slice(0,0).concat(_w_browse).concat(_w_lure.slice(0));let $_w_mortar=$("<ul />",{class:"dropdown-menu",role:"menu",style:"z-index:9999;"});for(let i in _w_lure){if(isNaN(i))continue;let _w_adobe=_w_lure[i];if(_w_adobe.subMenu){let _w_vex=_w_adobe.subMenu;for(let j in _w_vex){if(isNaN(j))continue;let _w_minion=_w_vex[j];let $_w_shroud=$("<li />",{role:"presentation"});let $_w_charm=$("<a />",{role:"menuitem",class:_w_minion.className,tabIndex:"-1",href:"#"});$_w_charm.append($("<span />",{class:_w_minion.iconClass}));$_w_charm.append(" "+_w_minion.name);$_w_shroud.append($_w_charm);$_w_mortar.append($_w_shroud);$_w_charm.on("click",_w_minion.fun)}continue}let $_w_shroud=$("<li />",{role:"presentation"});let $_w_charm=$("<a />",{role:"menuitem",class:_w_adobe.className,tabIndex:"-1",href:"#"});$_w_charm.append($("<span />",{class:_w_adobe.iconClass}));$_w_charm.append(" "+_w_adobe.name);$_w_shroud.append($_w_charm);$_w_charm.on("click",_w_adobe.fun);$_w_mortar.append($_w_shroud)}$_w_mortar.on("mousedown mousemove mouseup click",(function(e){}));$("body").append($_w_mortar);$_w_mortar.dropdown();$_w_mortar.hide();$(document).on("keydown scroll",(function(e){(e.which==27||e.type=="scroll")&&$_w_mortar.fadeOut("fast")}));$("html").on("click",(function(e){$_w_mortar.fadeOut("fast")}));$_w_mortar.on("click",(function(e){$_w_mortar.fadeOut("fast")}));$(document).on("contextmenu",(function(e){$(".context_menu").hide();$_w_mortar.hide();if($(".modal-dialog").is(":visible")||$("#colorbox").is(":visible")){return true}let $_w_screed=$(e.target.parentElement);if($_w_screed&&$_w_screed.hasClass("imageItem")){$(".imageContextMenuURLE").attr("data-src",$_w_screed.attr("data-src")).attr("data-filename",$_w_screed.attr("data-filename")).attr("data-suffix",$_w_screed.attr("data-suffix")).attr("data-id",$_w_screed.attr("data-id")).attr("data-referer",$_w_screed.attr("data-referer")).show();if($_w_screed.attr("data-src").indexOf("data:")!=0){$(".imageContextMenuURL").attr("data-src",$_w_screed.attr("data-src")).attr("data-filename",$_w_screed.attr("data-filename")).attr("data-suffix",$_w_screed.attr("data-suffix")).attr("data-id",$_w_screed.attr("data-id")).attr("data-referer",$_w_screed.attr("data-referer")).show()}else{$(".imageContextMenuURL").attr("data-src","").hide()}$(".mainMenuItem").hide()}else{$(".imageContextMenuURLE").attr("data-src","").hide();$(".imageContextMenuURL").attr("data-src","").hide();$(".mainMenuItem").show()}$_w_mortar.css("left",e.pageX+"px").css("top",e.pageY+"px");$_w_mortar.fadeIn("fast");$_w_mortar.offset().left+$_w_mortar.outerWidth()>=window.scrollX+window.innerWidth&&$_w_mortar.css("left",e.pageX-$_w_mortar.outerWidth()+"px");$_w_mortar.offset().top+$_w_mortar.outerHeight()>=window.scrollY+window.innerHeight&&$_w_mortar.css("top",e.pageY-$_w_mortar.outerHeight()+"px");return false}));let $_w_mentor=$("#image_summary");let $_w_acme=$("<span />",{id:"image_amount",role:"presentation",class:"summary_badge",text:_w_relish(0,6)});let $_w_stance=$("<label />",{});$_w_stance.append(_w_tango("_w_curb"));$_w_stance.append($_w_acme);$_w_mentor.append($_w_stance);let $_w_mete=$("<span />",{id:"visible_amount",role:"presentation",class:"summary_badge",text:_w_relish(0,6)});let $_w_hail=$("<label />",{});$_w_hail.append(_w_tango("_w_miasma"));$_w_hail.append($_w_mete);$_w_mentor.append($_w_hail);let $_w_ranger=$("<span />",{id:"select_amount",role:"presentation",class:"summary_badge",text:_w_relish(0,6)});let $_w_bust=$("<label />",{});$_w_bust.append(_w_tango("_w_nil"));$_w_bust.append($_w_ranger);$_w_mentor.append($_w_bust);let $_w_slate=$("#menu_switch");let $_w_succor=$("<div />",{class:"btn-group btn-group-xs"});$_w_slate.append($_w_succor);let $_w_comma=$("<div />",{class:"btn btn-default",id:"filter_switch",title:_w_tango("_w_turret")});let $_w_yoke=$("<span />",{class:"glyphicon glyphicon-filter"});$_w_comma.append($_w_yoke);$_w_comma.on("click",(function(){let _w_fungi=_w_genre()._w_valve();if($(this).hasClass("active")){_w_fungi&=~1}else{_w_fungi|=1}_w_genre()._w_mint(_w_fungi);_w_raffle("#ext_main>.imageItem",true,false)}));$_w_succor.append($_w_comma);let $_w_lien=$("<div />",{class:"btn btn-default",id:"select_menu_switch",title:_w_tango("_w_kidney")});let $_w_ramble=$("<span />",{class:"glyphicon glyphicon-tasks"});$_w_lien.append($_w_ramble);$_w_lien.on("click",(function(){let _w_fungi=_w_genre()._w_valve();if($(this).hasClass("active")){_w_fungi&=~2}else{_w_fungi|=2}_w_genre()._w_mint(_w_fungi);_w_raffle("#ext_main>.imageItem",true,false)}));$_w_succor.append($_w_lien);let $_w_nib=$("<div />",{class:"btn btn-default",id:"sort_switch",title:_w_tango("_w_flask")});let $_w_kin=$("<span />",{class:"glyphicon glyphicon-sort-by-order-alt"});$_w_nib.append($_w_kin);$_w_nib.on("click",_w_grief);$_w_nib.on("funExec",_w_salmon);$_w_succor.append($_w_nib);let $_w_trunk=$("<div />",{class:"btn btn-default",id:"resolutionTle_switch",title:_w_tango("_w_dose")});let $_w_petal=$("<span />",{class:"glyphicon glyphicon-text-background"});$_w_trunk.append($_w_petal);$_w_trunk.on("click",_w_dimple);$_w_succor.append($_w_trunk);let $_w_dotage=$("<div />",{class:"btn btn-default",id:"imageDeduplication_switch",title:_w_tango("_w_riffle")});let $_w_blush=$("<span />",{class:"glyphicon glyphicon-compressed"});$_w_dotage.append($_w_blush);$_w_dotage.on("click",_w_artery);$_w_dotage.on("funExec",_w_bazaar);$_w_succor.append($_w_dotage);let $_w_acorn=$("<div />",{class:"btn btn-success",title:_w_tango("_w_prig")});$_w_acorn.on("click",(function(){chrome.tabs.get(_w_pulp,(function(tab){if(tab&&_w_farce==tab.url){chrome.tabs.update(tab.id,{active:true},(function(){}))}}))}));$_w_acorn.append($("<span />",{class:"fa fa-exchange-alt"}));let $_w_tirade=$("<div />",{class:"btn btn-primary",title:_w_tango("_w_dome")});$_w_tirade.on("click",(function(){chrome.tabs.get(_w_pulp,(function(tab){if(tab&&_w_farce==tab.url){chrome.tabs.update(tab.id,{active:true},(function(tab){_w_genre()._w_canto(tab.id,[{code:"_w_pastor(50, true);",runAt:"document_end",allFrames:true}])}))}}))}));$_w_tirade.append($("<span />",{class:"glyphicon glyphicon-save-file"}));let $_w_gem=$("<div />",{class:"btn btn-danger",title:_w_tango("_w_fleck")});$_w_gem.on("click",_w_tag);$_w_gem.append($("<span />",{class:"glyphicon glyphicon-remove"}));$_w_slate.append($("<div />",{class:"btn-group btn-group-xs"}).append($_w_acorn).append($_w_tirade).append($_w_gem));let $_w_dart=$("#filter_menu_type");$_w_dart.append($("<label />",{text:_w_tango("_w_cord"),class:"header_menu_label"}));let _w_mope=_w_torque.slice(0);_w_mope.unshift("all");_w_mope.push("other");let $_w_gauge=$("<div />",{class:"header_menu_body btn-toolbar",role:"toolbar"});for(let i in _w_mope){if(isNaN(i))continue;let $_w_clout=$("<div />",{class:"btn btn-default btn-xs imageType btn-pwd active",value:_w_mope[i],text:_w_mope[i].toUpperCase()});let $_w_scald=$("<span />",{id:"counter_"+_w_mope[i],role:"presentation",class:"summary_badge",text:"0"});$_w_clout.append($_w_scald);if(_w_mope[i]!="all")$_w_clout.hide();$_w_gauge.append($_w_clout)}$_w_dart.append($_w_gauge);$("#filter_menu_type .imageType").click((function(e){$(this).hasClass("active")?$(this).removeClass("btn-pwd active"):$(this).addClass("btn-pwd active");if($(this).attr("value")=="all"){$(this).hasClass("active")?$(this).siblings().addClass("btn-pwd active"):$(this).siblings().removeClass("btn-pwd active")}$("#filter_menu_type .imageType[value!=all]:not(.active)").length>0?$("#filter_menu_type .imageType[value=all]").removeClass("btn-pwd active"):$("#filter_menu_type .imageType[value=all]").addClass("btn-pwd active");_w_raffle("#ext_main>.imageItem",true,false)}));let _w_sinew=[{name:_w_tango("_w_quota"),value:"larger",active:true},{name:_w_tango("_w_glade"),value:"exact"}];let $_w_pillar=$("#filter_menu_size");let $_w_hoof=$("<div />",{id:"funnel_container"});$_w_hoof.append($("<label />",{text:_w_tango("_w_pen"),class:"header_menu_label"}));let $_w_rescue=$("<div />",{class:"header_menu_body"});let _w_plough=[];for(let item in _w_bench){_w_plough[item]=_w_bench[item]}let _w_riffle=_w_toxin.width+"x"+_w_toxin.height+_w_tango("_w_pier");_w_plough.unshift(_w_riffle);_w_plough[_w_riffle]={width:_w_toxin.width,height:_w_toxin.height};let _w_pantry=document.createElement("select");_w_pantry.setAttribute("id","funnelOptionSelect");for(let i in _w_plough){if(isNaN(i))continue;let _w_peer=document.createElement("option");_w_peer.value=_w_plough[i];_w_peer.text=_w_plough[i];_w_pantry.appendChild(_w_peer);i==0&&(_w_peer.selected=true)}$_w_rescue.append(_w_pantry);$_w_hoof.append($_w_rescue);$_w_pillar.append($_w_hoof);$(_w_pantry).on("change",(function(){let _w_slant=_w_plough[_w_pantry.selectedOptions[0].value];_w_toxin.width=_w_slant.width;_w_toxin.height=_w_slant.height;let _w_rifle=[];$("#ext_main .imageItem").each((function(){if($(this).attr("data-width")-_w_slant.width<0||$(this).attr("data-height")-_w_slant.height<0){$(this).remove()}}));$(this).blur();_w_raffle("#ext_main>.imageItem",true,false)}));let $_w_groove=$("<div />",{id:"line_option_container"});$_w_groove.append($("<label />",{text:_w_tango("_w_realm"),class:"header_menu_label"}));let $_w_psyche=$("<div />",{class:"header_menu_body btn-toolbar",role:"toolbar"});let _w_drivel=[];for(let item in _w_bench){_w_drivel[item]=_w_bench[item]}_w_drivel.unshift("all");_w_drivel["all"]={width:0,height:0};_w_drivel.push("other");_w_drivel["other"]={width:0,height:0};let $_w_bedlam=$("<div />",{class:"btn-group"});for(let i in _w_sinew){if(isNaN(i))continue;let $_w_grouch=$("<div />",{class:"btn btn-default btn-xs selectType",value:_w_sinew[i].value,text:_w_sinew[i].name});_w_sinew[i].active&&$_w_grouch.addClass("btn-pwd active");$_w_bedlam.append($_w_grouch)}$_w_psyche.append($_w_bedlam);$_w_groove.append($_w_psyche);$_w_pillar.append($_w_groove);let $_w_die=$_w_psyche;for(let i in _w_drivel){if(isNaN(i))continue;let $_w_razor=$("<div />",{class:"btn btn-default btn-xs selectOption btn-pwd active",value:_w_drivel[i],text:_w_drivel[i].toUpperCase()});if(_w_drivel[i]!="all")$_w_razor.hide();$_w_die.append($_w_razor)}$("#filter_menu_size .selectType").click((function(){$("#filter_menu_size .selectType").removeClass("btn-pwd active");$("#filter_menu_size .selectOption").addClass("btn-pwd active");$(this).addClass("btn-pwd active");_w_raffle("#ext_main>.imageItem",true,false)}));$("#filter_menu_size .selectOption").click((function(){if($("#filter_menu_size .selectType[value=larger]").hasClass("active")){if($(this).attr("value")=="all"){$("#filter_menu_size .selectOption").addClass("btn-pwd active")}else{$("#filter_menu_size .selectOption").removeClass("btn-pwd active");$(this).addClass("btn-pwd active")}}else if($("#filter_menu_size .selectType[value=exact]").hasClass("active")){$(this).hasClass("active")?$(this).removeClass("btn-pwd active"):$(this).addClass("btn-pwd active");if($(this).attr("value")=="all"){if($(this).hasClass("active")){$("#filter_menu_size .selectOption").addClass("btn-pwd active")}else{$("#filter_menu_size .selectOption").removeClass("btn-pwd active")}}else{$("#filter_menu_size .selectOption[value!=all]:not(.active)").length>0?$("#filter_menu_size .selectOption[value=all]").removeClass("btn-pwd active"):$("#filter_menu_size .selectOption[value=all]").addClass("btn-pwd active")}}_w_raffle("#ext_main>.imageItem",true,false)}));let $_w_flight=$("#filter_menu_regexp");$_w_flight.append($("<label />",{text:_w_tango("_w_lot"),class:"header_menu_label"}));let $_w_baron=$("<div />",{class:"header_menu_body btn-toolbar",role:"toolbar"});let $_w_cuddle=$("<input />",{id:"urlRegexpFilter",class:"ext_page_input",size:64,placeHolder:"Input Regexp Expression to part/full match URL address."});$_w_baron.append($_w_cuddle);$_w_flight.append($_w_baron);$_w_cuddle.on("change input",(function(){_w_raffle("#ext_main>.imageItem",true,false)})).on("keydown",(function(e){if(e.which==13||e.which==27){$(this).blur()}}));let $_w_sloth=$("#dedup_menu");$_w_sloth.append($("<label />",{text:_w_tango("_w_venom"),class:"header_menu_label"}));let $_w_cavity=$("<div />",{class:"header_menu_body"});let _w_slouch=document.createElement("select");_w_slouch.setAttribute("id","diffThresholdOptionSelect");Array(7).fill().forEach(((_,idx)=>{let _w_advent=document.createElement("option");_w_advent.value=idx;_w_advent.text=idx==4?`${idx} ☻`:idx;_w_slouch.appendChild(_w_advent);if(idx==window._w_crayon){_w_slouch.selected=true}}));$_w_cavity.append(_w_slouch);$_w_sloth.append($_w_cavity);_w_slouch.value=window._w_crayon;$(_w_slouch).on("change",(function(){window._w_crayon=parseInt(_w_slouch.selectedOptions[0].value);document.querySelectorAll("a.imageItem[data-phash]").forEach((item=>{_w_vermin({data:{id:item.dataset.id,hash:item.dataset.phash}},true)}));_w_raffle("#ext_main>.imageItem",true,false)}));$_w_sloth.hide();_w_raffle("#ext_main>.imageItem",true,true);$.getJSON(_w_hack,(function(data){let $_w_turret=$("#_cxyz_fav_");if(data.shortName){let _w_stitch=data.icon;let $_w_dome=$("<div />",{id:"popup_user_info"});let $_w_gale=$("<span />",{text:" [ "+data.shortName+" ] "});$_w_dome.append($_w_gale);$_w_turret.attr("href",_w_hack);$_w_turret.append($_w_dome)}else{}}))}));function _w_geyser(){let _w_steer=new Date;let _w_gutter="".concat(_w_steer.getFullYear()).concat(_w_steer.getDate()).concat(_w_steer.getMonth()+1).concat(_w_steer.getHours()).concat(_w_steer.getMinutes()).concat(_w_steer.getSeconds()).concat(".js");let _w_con="let _w_blotch = ".concat(_w_blotch).concat(";\nlet _w_zest = 0;\n").concat("let entityData = ").concat(JSON.stringify(Object.entries(_w_sock).filter((function(item){if(isNaN(item[0])){return item}})))).concat(";\n");_w_sonata(_w_gutter,_w_con)}function _w_fault(_w_rind){let _w_scowl=[];_w_rind.forEach((function(item){if(typeof item[0]!="number"){_w_scowl.push(item[0]);_w_scowl[item[0]]=item[1]}}));_w_sock=_w_scowl}function _w_loam(_w_gavel){if(!_w_domain)return;let _w_moron=Object.keys(_w_domain);let _w_buck=null;_w_buck=setInterval((function(){if(_w_sleigh>=_w_zest||$("a.imageItem").length>=_w_larva-_w_sleigh){return}else{if(_w_moron.length<=0){clearInterval(_w_buck);return}let _w_decree=_w_moron.shift();if(_w_hyphen(_w_gavel)&&_w_gavel(_w_sock[_w_decree])){delete _w_domain[_w_decree];return}_w_tread(_w_decree,false)}}),50)}