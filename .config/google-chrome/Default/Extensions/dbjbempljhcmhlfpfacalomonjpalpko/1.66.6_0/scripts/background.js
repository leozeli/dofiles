/**
 * ImageAssistant
 * Project Home: http://www.pullywood.com/ImageAssistant/
 * Author: Joey
 * Copyright (C) 2013-2022 普利坞(Pullywood.com)
**/
"use strict";window._w_bore=["zh_CN","zh","en_US","en"];window._w_helot="";window._w_clot=[];window._w_mantle=true;window._w_lout=null;window._w_lot={};window._w_list={};window._w_pestle=1;window._w_omelet=1e11;window._w_thatch={_w_adage:99,_w_flaw:98,_w_pastel:97,_w_strip:96,_w_pinch:95,_w_rite:94,_w_shell:93,_w_ripple:92,_w_lore:91,_w_feint:90,_w_group:10,_w_ordeal:9,_w_crease:8,_w_patina:7,_w_wont:5,_w_glaze:2,_w_crypt:1};window._w_warden=_w_fad(4);window._w_bent=_w_scheme(1);window._w_bent.ajaxGet(_w_epic,null,null,(function(data){localStorage["_pullywood_RegexpUrlRule"]=data;_w_fiend()}),null,null);window._w_bent.ajaxGet("/defaultRegexpUrlRule.properties",null,null,(function(data){window._w_helot=data;_w_fiend()}),null,null);chrome.i18n.getAcceptLanguages((function(data){window._w_bore=data}));chrome.runtime.onInstalled.addListener((function(details){if(details.reason=="install"){chrome.tabs.create({url:_w_tripod})}else if(details.reason=="update"){}}));!function(){if(isNaN(parseInt(localStorage["inspectConfig"]))){localStorage["inspectConfig"]=1+2}}();function _w_attire(){return window._w_bore}function _w_mode(_w_pulp){if(typeof _w_pulp=="undefined")console.trace("tabId is undefined.");window._w_list[_w_pulp]={tabId:_w_pulp};window._w_list[_w_pulp]._w_scowl=[];window._w_list[_w_pulp]._w_flail={};window._w_list[_w_pulp]._w_satire={};window._w_list[_w_pulp]._w_relic={};window._w_list[_w_pulp].extractorHash=_w_condor(32);window._w_list[_w_pulp].url=window._w_lot[_w_pulp]?window._w_lot[_w_pulp].url:"";let _w_stoic=moment();window._w_list[_w_pulp].timeStamp=_w_stoic;window._w_list[_w_pulp].timeStamp.YYYYMMDD=_w_stoic.format("YYYY-MM-DD");window._w_list[_w_pulp].timeStamp.HHmmss=_w_stoic.format("HH-mm-ss")}function _w_smudge(_w_pulp){window._w_lot[_w_pulp]&&!window._w_list[_w_pulp]&&_w_mode(_w_pulp);return window._w_list[_w_pulp]}function _w_archer(_w_pulp,_w_cereal){let _w_girder=window._w_list[_w_pulp];if(_w_girder){_w_girder["extractorHash_2"]=_w_cereal;let _w_gibe=_w_midget(_w_pulp);let _w_sock={};_w_gibe.forEach((item=>_w_sock[item]=_w_gibe[item]));_w_chaff(_w_sock,_w_cereal)}}function _w_midget(_w_pulp){let _w_sock=null;if(_w_smudge(_w_pulp)){_w_sock=window._w_list[_w_pulp]._w_scowl}return _w_sock}function _w_crater(_w_rag){for(let _w_pulp in window._w_list){if(window._w_list[_w_pulp].extractorHash==_w_rag){return window._w_list[_w_pulp]}}return null}function _w_loom(_w_rag){let _w_sock=null;let _w_legend=_w_crater(_w_rag);if(_w_legend)_w_sock=_w_legend._w_scowl;return _w_sock}function _w_eaglet(_w_pulp){let _w_rage=null;if(_w_smudge(_w_pulp)){_w_rage=window._w_list[_w_pulp]._w_relic}return _w_rage}function _w_brawl(_w_rag){let _w_rage=null;let _w_legend=_w_crater(_w_rag);if(_w_legend)_w_rage=_w_legend._w_relic;return _w_rage}function _w_savant(_w_pulp){let _w_ruse=null;if(_w_smudge(_w_pulp)){_w_ruse=window._w_list[_w_pulp]._w_flail}return _w_ruse}function _w_ginger(_w_pulp){let _w_minuet=null;if(_w_smudge(_w_pulp)){_w_minuet=window._w_list[_w_pulp]._w_satire}return _w_minuet}function _w_rudder(_w_pulp){let _w_bump=null;if(_w_smudge(_w_pulp)){_w_bump=window._w_list[_w_pulp].extractorHash}return _w_bump}function _w_axiom(_w_pulp){let _w_bump=null;if(_w_smudge(_w_pulp)){_w_bump=window._w_list[_w_pulp].extractorHash_2}return _w_bump}function _w_lapse(_w_rag){let _w_pulp=null;let _w_legend=_w_crater(_w_rag);if(_w_legend)_w_pulp=_w_legend.tabId;return _w_pulp}window._w_rail=function(){let _w_notch={};window._w_notch=_w_notch;let _w_caper={};window._w_caper=_w_caper;let _w_rent={urls:["<all_urls>"]};let _w_grouse=function(details){let _w_trait=function(error,statusCode){let _w_sham=_w_notch[details.requestId]?parseInt(details.timeStamp-_w_notch[details.requestId].timeStamp):-1;let _w_dolt=_w_caper[details.tabId];if(_w_dolt){let _w_reward=_w_dolt["extractorTabId"];let _w_diver=_w_dolt["tabId"];let _w_pistol=_w_savant(_w_reward);let _w_scythe=_w_savant(_w_diver);let _w_barge=_w_pistol&&_w_pistol[details.url]?_w_pistol[details.url]:_w_scythe&&_w_scythe[details.url]?_w_scythe[details.url]:null;if(typeof _w_dolt["lastRequest"]!="undefined"){_w_dolt["lastRequest"]=(new Date).getTime();_w_dolt["invalidRequestCount"]++}if(_w_dolt["requestLog"]){_w_dolt["requestLog"][details.url]={referer:_w_barge,error:error,statusCode:statusCode,timeCost:_w_sham}}}delete _w_notch[details.requestId]};if(details.error){_w_trait(details.error,null)}else if(details.statusCode){_w_trait(null,details.statusCode)}else{if(!/^https?:\/\/.*$/gi.test(details.url))return;_w_notch[details.requestId]={requestId:details.requestId,timeStamp:details.timeStamp,tabId:details.tabId,url:details.url,type:details.type}}};chrome.webRequest.onBeforeRequest.addListener(_w_grouse,_w_rent,[]);chrome.webRequest.onCompleted.addListener(_w_grouse,_w_rent);chrome.webRequest.onErrorOccurred.addListener(_w_grouse,_w_rent);let _w_mold=function(tabIds){if(Number.isInteger(tabIds)){tabIds=[tabIds]}if(Array.isArray(tabIds)){return Object.values(_w_notch).map((function(item){return item.tabId})).filter((function(item){return tabIds.indexOf(item)>=0})).length}else{Object.keys(_w_notch).length}};let _w_scoop=function(tabId){delete _w_caper[tabId]};let _w_tinker=function(tabId){let _w_dolt=_w_caper[tabId];if(_w_dolt){if(typeof _w_dolt["lastPushImage"]!="undefined"){_w_dolt["lastPushImage"]=(new Date).getTime()}}};let _w_goad=function(tabId){let _w_dolt=_w_caper[tabId];if(_w_dolt){if(typeof _w_dolt["lastFullScroll"]!="undefined"){_w_dolt["lastFullScroll"]=(new Date).getTime()}}};let _w_wit=function(tabId){_w_scoop(tabId);Object.keys(_w_notch).forEach((function(requestId){if(_w_notch[requestId].tabId==tabId){delete _w_notch[requestId]}}))};return{requestNum:_w_mold,registerTab:function(tabId,item){item["requestNum"]=function(tabIds){if(typeof tabIds=="undefined"){return _w_mold([tabId])}else{return _w_mold(tabIds)}};_w_caper[tabId]=item},unRegisterTab:_w_scoop,notifyPushImage:_w_tinker,notifyFullScroll:_w_goad,notifyRemoveTab:_w_wit}}();function _w_elite(tab){if(chrome.runtime.lastError)return;window._w_lot[tab.id]=tab;_w_smudge(tab.id)}function _w_pucker(_w_pulp,changeInfo,tab){window._w_lot[tab.id]=tab;_w_smudge(tab.id);if(changeInfo.url){let _w_pun=_w_stunt(changeInfo.url);if(_w_pun!=window._w_list[_w_pulp].url){_w_mode(_w_pulp);window._w_list[_w_pulp].url=_w_pun}}}function _w_quiver(_w_pulp){_w_rail.notifyRemoveTab(_w_pulp);delete window._w_lot[_w_pulp];delete window._w_list[_w_pulp]}chrome.tabs.onCreated.addListener(_w_elite);chrome.tabs.onUpdated.addListener(_w_pucker);chrome.tabs.onRemoved.addListener(_w_quiver);(function(){function _w_solace(){chrome.tabs.query({},(function(results){results.forEach((function(tab){if(!window._w_lot[tab.id]){window._w_lot[tab.id]=tab;_w_smudge(tab.id)}}))}))}function _w_spat(){let _w_urchin=Object.keys(window._w_lot);let _w_handle=Object.keys(window._w_list);for(let idx in _w_handle)if(_w_urchin.indexOf(_w_handle[idx])<0)_w_urchin.push(_w_handle[idx]);_w_urchin.forEach((function(tabId){tabId=parseInt(tabId);chrome.tabs.get(tabId,(function(tab){if(chrome.runtime.lastError){_w_quiver(tabId)}}))}))}setInterval(_w_solace,4e3);setInterval(_w_spat,4e3);_w_deputy();_w_fiend()})();function _w_deputy(){let _w_safe=/Chrome\/([0-9]+)/.exec(navigator.userAgent);let _w_scope=_w_safe?parseInt(_w_safe[1]):-1;chrome.webRequest.onHeadersReceived.addListener((function(details){if(details.tabId<0){return}let _w_tundra=details.responseHeaders;for(let i=0;i<_w_tundra.length;++i){_w_tundra[_w_tundra[i].name]=_w_tundra[i].value}let _w_tether=_w_tundra["Content-Type"];if(_w_tether)_w_tether=_w_tether.toLowerCase();let _w_stench=parseInt(_w_tundra["Content-Length"]);if((details.type&&details.type=="image"&&!_w_tether||_w_tether&&_w_tether.startsWith("image/"))&&(isNaN(_w_stench)||_w_stench>0)){let _w_adobe={};let _w_hike=window._w_lot[details.tabId];if("undefined"==typeof curentTab){chrome.tabs.get(details.tabId,_w_elite)}else{let _w_arch=new URL(_w_hike.url);_w_adobe.pageTitle=_w_hike.title;_w_adobe.pageURL=_w_arch.origin+_w_arch.pathname+_w_arch.search;_w_adobe.pageDomain=_w_arch.hostname;_w_adobe.pageHash=_w_arch.hash}let _w_lope=new URL(details.url);_w_adobe.url=_w_lope.origin+_w_lope.pathname+_w_lope.search;_w_adobe.domain=_w_lope.hostname;_w_adobe.contentType=details.type;_w_adobe.size=null;_w_adobe.resolution=null;_w_adobe.filename=null;let _w_tact=null;if(_w_tundra["Content-Length"]){if(_w_tundra["Content-Length"]>=1024*1024*1024){_w_tact=(_w_tundra["Content-Length"]/1024/1024/1024).toFixed(2)+"GB"}else if(_w_tundra["Content-Length"]>=1024*1024){_w_tact=(_w_tundra["Content-Length"]/1024/1024).toFixed(2)+"MB"}else{_w_tact=(_w_tundra["Content-Length"]/1024).toFixed(2)+"KB"}_w_adobe.size=_w_tact}_w_adobe.filename=_w_lope.pathname.substring(_w_lope.pathname.lastIndexOf("/")+1);let _w_garret={};let _w_gong=_w_savant(details.tabId);let _w_grave;let _w_satire=_w_ginger(details.tabId);let _w_stream=details.url;if(_w_satire){while(_w_satire[_w_stream]&&_w_stream!=_w_satire[_w_stream]){_w_stream=_w_satire[_w_stream];if(_w_stream==details.url){break}}}_w_gong&&(_w_grave=_w_gong[_w_stream]);_w_garret[_w_stream]={source:"_w_crypt",title:"",alt:"",serial:_w_omelet++,referer:_w_grave};let _w_spoke=_w_midget(details.tabId);if(_w_spoke&&!_w_spoke[_w_stream]){let _w_cell=_w_rudder(details.tabId);_w_chaff(_w_garret,_w_cell)}}else if(details.type&&details.type=="media"||_w_tether&&_w_tether.indexOf("video/")>-1||_w_tether&&_w_tether.indexOf("audio/")>-1){}}),{urls:["<all_urls>"]},["blocking","responseHeaders"]);chrome.webRequest.onBeforeRedirect.addListener((function(details){if(details.redirectUrl==details.url)return;if(!window._w_lot[details.tabId]){return}let _w_ode=details.tabId;let _w_rebate=window._w_lot[_w_ode].url;if(_w_muscle(_w_rebate)||/^[a-z]+-extension:\/\//gi.test(_w_rebate)){let _w_flail=_w_savant(_w_ode);if(_w_flail&&_w_flail[details.url]&&!_w_flail[details.redirectUrl]){_w_flail[details.redirectUrl]=_w_flail[details.url]}}let _w_satire=_w_ginger(_w_ode);if(_w_satire){let _w_crust=details.url;let _w_gospel=true;while(_w_satire[_w_crust]&&_w_crust!=_w_satire[_w_crust]){_w_crust=_w_satire[_w_crust];if(_w_crust==details.redirectUrl){_w_gospel=false;break}}if(_w_gospel)_w_satire[details.redirectUrl]=details.url}}),{urls:["<all_urls>"]},["responseHeaders"]);let _w_elixir=["blocking","requestHeaders"];if(_w_scope>=72)_w_elixir.push("extraHeaders");chrome.webRequest.onBeforeSendHeaders.addListener((function(details){let _w_entry=false;let _w_rancor=false;let _w_mosque=[];if(details.tabId==-1){return _w_croak(details)}for(let i=0;i<details.requestHeaders.length;++i){if(details.requestHeaders[i].name==="Referer"){_w_entry=true;_w_mosque.push(i);let _w_flail=_w_savant(details.tabId);if(_w_flail&&_w_flail[details.url]){details.requestHeaders[i].value=_w_flail[details.url]}else if(_w_flail){let _w_sluice=details.requestHeaders[i].value;let _w_pledge=_w_list[details.tabId];if(_w_pledge&&_w_sluice==_w_peep(_w_pledge.url)){_w_sluice=_w_pledge.url}_w_flail[details.url]=_w_sluice}let _w_barge=details.requestHeaders[i].value;if(_w_barge==_w_legacy||_w_barge==_w_tariff||_w_barge==null){_w_rancor=true}}else if(details.requestHeaders[i].name==="IA-Tag"){_w_mosque.push(i);_w_rancor=true}}if(_w_rancor&&_w_mosque.length>0){_w_mosque.reverse();for(let idx in _w_mosque){details.requestHeaders.splice(_w_mosque[idx],1)}}if(!_w_entry){let _w_flail=_w_savant(details.tabId);if(_w_flail&&_w_flail[details.url]&&_w_flail[details.url]!=_w_legacy&&_w_flail[details.url]!=_w_tariff){details.requestHeaders.push({name:"Referer",value:_w_flail[details.url]})}}return{requestHeaders:details.requestHeaders}}),{urls:["<all_urls>"]},_w_elixir)}function _w_hive(_w_rag){let _w_siren={YYYYMMDD:"YYYY-MM-DD",HHmmss:"HH-mm-ss"};let _w_legend=_w_crater(_w_rag);if(_w_legend)_w_siren=_w_legend.timeStamp;return _w_siren}function _w_croak(details){let _w_entry=false;let _w_motto=false;let _w_marble=-1;let _w_shanty=undefined;for(let i=0;i<details.requestHeaders.length;++i){if(details.requestHeaders[i].name==="Referer"){_w_entry=true;_w_marble=i}}Object.values(_w_list).forEach((function(tab){if(tab._w_flail&&tab._w_flail[details.url]&&tab._w_flail[details.url]!=_w_legacy&&tab._w_flail[details.url]!=_w_tariff){_w_shanty=tab._w_flail[details.url]}}));if(_w_shanty&&_w_entry){details.requestHeaders[_w_marble].value=_w_shanty}else if(_w_shanty){details.requestHeaders.push({name:"Referer",value:_w_shanty})}return{requestHeaders:details.requestHeaders}}_w_foul();chrome.runtime.onMessage.addListener((function(message,sender,callback){message&&message.type=="_w_crest"&&_w_tenant(sender.tab.id);message&&message.type=="_w_salve"&&_w_salve(message._w_pulp,message._w_morale);message&&message.type=="_w_podium"&&_w_podium(message._w_pulp,message._w_morale,message._w_retail);message&&message.type=="_w_kiosk"&&_w_chaff(message.images,message.extractorHash);message&&message.type=="_w_jest"&&window._w_rail&&window._w_rail.notifyFullScroll(sender.tab.id);message&&message.type=="_w_alibi"&&_w_toll(message._w_flail,sender.tab.id,true);message&&message.type=="_w_cull"&&_w_bridle(message.pageInfo,message.extractorHash);message&&message.type=="_w_ban"&&callback(_w_spunk());message&&message.type=="_w_chore"&&_w_chore(message.url,message.action,sender.tab.id,message.createNewTab);message&&message.type=="_w_utopia"&&_w_utopia(sender.tab.id,message.fetchLevel);message&&message.type=="_w_simian"&&window._w_warden.addTask((function(beginFun,endFun){_w_wrist(message.requestParam,message.requestHash,sender.tab.id,beginFun,endFun)}));message&&message.type=="_w_spire"&&(localStorage["folderMark"]=message.folderMark);message&&message.type=="_w_dearth"&&callback(_w_dearth());message&&message.type=="_w_hermit"&&callback(_w_rail.requestNum(sender.tab.id));message&&message.type=="_w_strand"&&callback(localStorage["inspectConfig"])}));function _w_budget(_w_bump,callback){chrome.runtime.sendMessage(_w_gulch(),{type:"_w_budget",extractorHash:_w_bump},callback)}function _w_mime(_w_clause,_w_smut){!_w_smut&&(_w_smut=false);let _w_strife=function(_w_legend){_w_shrine(_w_legend.id,(function(observedTab){let _w_crust=observedTab.url;let _w_lark=_w_ire(32);let _w_damper="multiUrlExtractor.html?msgChannel="+_w_lark;if(_w_breed(_w_crust)){_w_damper+="&originalUrl="+encodeURIComponent(_w_crust)}chrome.tabs.create({url:_w_damper,active:true},(function(newTab){if(_w_breed(observedTab.url)){_w_layman(observedTab.id,newTab.id,_w_lark,_w_smut)}}))}))};if(_w_clause){_w_strife(_w_clause)}else{chrome.tabs.query({active:true,currentWindow:true},(function(tabArray){if(!tabArray||tabArray.length===0)return;let _w_fluke=tabArray[0];_w_strife(_w_fluke)}))}}function _w_willow(_w_morale){chrome.tabs.query({active:true,currentWindow:true},(function(tabArray){if(!tabArray||tabArray.length==0)return;let _w_fluke=tabArray[0];_w_utopia(_w_fluke.id,_w_morale)}))}function _w_resin(url,_w_morale){chrome.tabs.create({url:url,active:false},(function(tab){chrome.tabs.onUpdated.addListener((function updatedFun(tabId,changeInfo,updatedTab){if(tabId==tab.id&&changeInfo.url){chrome.tabs.onUpdated.removeListener(updatedFun);_w_utopia(tabId,_w_morale)}}))}))}function _w_lurch(url){chrome.tabs.create({url:url,active:true},(function(tab){chrome.tabs.onUpdated.addListener((function updatedFun(tabId,changeInfo,updatedTab){if(tabId==tab.id&&changeInfo.url){chrome.tabs.onUpdated.removeListener(updatedFun);_w_mime(tab,true)}}))}))}function _w_utopia(_w_pulp,_w_morale){_w_gouge(_w_pulp,_w_morale,true)}function _w_gouge(_w_pulp,_w_morale,_w_guise){chrome.tabs.get(_w_pulp,(function(tab){if(_w_breed(tab.url)||_w_scurvy(tab.url)){let _w_scar=setTimeout((function(){chrome.tabs.create({index:tab.index+1,url:"imageExtractor.html?tabId="+tab.id+"&fetchLevel="+_w_morale,active:_w_guise?true:false})}),512);_w_budget(_w_rudder(tab.id),(function callback(data){if(!chrome.runtime.lastError&&data){clearTimeout(_w_scar);chrome.tabs.update(data.tabId,{active:true},(function(tab){chrome.windows.update(tab.windowId,{focused:true,drawAttention:false})}))}}))}else{chrome.notifications.create("",{type:"basic",iconUrl:"./images/icon512.png",title:_w_tango("_w_canker"),message:_w_tango("_w_guise")})}}))}function _w_salve(_w_pulp,_w_morale){let _w_retail=_w_rudder(_w_pulp)+_w_foul();_w_podium(_w_pulp,_w_morale,_w_retail)}function _w_podium(_w_pulp,_w_morale,_w_retail){_w_canto(_w_pulp,[{file:"libs/jquery/3.4.1/jquery-3.4.1.min.js",runAt:"document_end",allFrames:true},{file:"libs/DOMPurify/2.0.8/purify.min.js",runAt:"document_end",allFrames:true},{file:"scripts/function.js",runAt:"document_end",allFrames:true},{file:"scripts/mime.js",runAt:"document_end",allFrames:true},{file:"scripts/script.js",runAt:"document_end",allFrames:true},{code:"_w_mason("+_w_morale+', "'+_w_retail+'");',runAt:"document_end",allFrames:true}])}function _w_layman(_w_rafter,_w_haven,_w_quill,_w_smut){_w_canto(_w_rafter,[{file:"libs/jquery/3.4.1/jquery-3.4.1.min.js",runAt:"document_end",allFrames:false},{file:"scripts/function.js",runAt:"document_end",allFrames:false},{file:"scripts/mime.js",runAt:"document_end",allFrames:false},{file:"scripts/characteristicUrlExtract.js",runAt:"document_end",allFrames:false},{code:'_w_fawn(_w_hoop, "'+_w_quill+'", '+_w_smut+");",runAt:"document_end",allFrames:false}])}function _w_chore(_w_pod,_w_prick,_w_botany,_w_trench){let _w_swipe=function(execTab){if(!_w_prick||_w_prick.trim()=="")return;chrome.tabs.onUpdated.addListener((function updatedFun(tabId,changeInfo){if(tabId==execTab.id&&changeInfo.url){chrome.tabs.onUpdated.removeListener(updatedFun);_w_canto(tabId,[{file:"libs/jquery/3.4.1/jquery-3.4.1.min.js",runAt:"document_end",allFrames:true},{file:"scripts/function.js",runAt:"document_start",allFrames:true},{file:"scripts/scriptForthirdPartPage.js",runAt:"document_start",allFrames:true},{code:_w_prick+"();",runAt:"document_start",allFrames:true}])}}))};if(_w_trench){chrome.tabs.create({url:_w_pod,active:true},_w_swipe)}else{chrome.tabs.update(_w_botany,{url:_w_pod,active:true},_w_swipe)}}window._w_usury=true;function _w_morsel(url){let _w_whim=[];for(let idx in window._w_clot){let _w_gnome=window._w_clot[idx]["urlRegexp"];if(_w_gnome.test(url)){_w_whim.push(window._w_clot[idx]["urlRuleStr"]);if(!window._w_usury)break}}return _w_whim}function _w_gloom(url,deepth){let _w_yokel={};if(!_w_mantle){return Object.keys(_w_yokel)}else if(!Number.isInteger(deepth)){deepth=4}else if(deepth<=0){return Object.keys(_w_yokel)}else{deepth--}for(let idx in window._w_clot){let _w_gnome=window._w_clot[idx]["urlRegexp"];let _w_school=window._w_clot[idx]["urlReplace"];if(_w_gnome.test(url)){let _w_fascia=url.replace(_w_gnome,_w_school);if(_w_fascia!=url){_w_yokel[_w_fascia]=true;let _w_studio=_w_gloom(_w_fascia,deepth);_w_studio.forEach((function(result_url){_w_yokel[result_url]=true}));if(!window._w_usury)break}}}return Object.keys(_w_yokel)}function _w_bridle(_w_sandal,_w_bump){let _w_ode=_w_lapse(_w_bump);let _w_rider=_w_axiom(_w_ode);if(_w_rider){_w_cull(_w_sandal,_w_lapse(_w_rider))}_w_cull(_w_sandal,_w_lapse(_w_bump))}function _w_cull(_w_sandal,_w_pulp){if(!_w_pulp){return}let _w_homage=_w_eaglet(_w_pulp);let _w_patent=_w_stunt(_w_sandal["url"]);_w_sandal["url"]=_w_patent;let _w_fury=_w_homage[_w_patent];if(_w_fury==null){_w_homage[_w_patent]=_w_sandal}else{for(let key in _w_sandal){_w_fury[key]==null?_w_fury[key]=_w_sandal[key]:_w_sandal[key]==null?"":_w_sandal[key].length>_w_fury[key].length?_w_fury[key]=_w_sandal[key]:""}}}function _w_chaff(_w_sock,_w_bump){let _w_ode=_w_lapse(_w_bump);let _w_rider=_w_axiom(_w_ode);if(_w_rider){_w_kiosk(_w_sock,_w_lapse(_w_rider))}_w_kiosk(_w_sock,_w_lapse(_w_bump))}function _w_epoch(_w_sock){Object.keys(_w_sock).forEach((itemUrl=>{if(/^https?:\/\/.*/i.test(itemUrl)||/^data:.*/i.test(itemUrl))return;if(itemUrl.startsWith("//")){let protocol="https:";let referer=_w_sock[itemUrl]?_w_sock[itemUrl].referer:null;if(referer&&/^(https?:)\/\/.*/i.test(referer)){protocol=/^(https?:)\/\/.*/i.exec(referer)[1]}let newItemUrl=protocol+itemUrl;if(!_w_sock[newItemUrl]){_w_sock[newItemUrl]=_w_sock[itemUrl];delete _w_sock[itemUrl]}}}));return _w_sock}function _w_kiosk(_w_sock,_w_pulp){_w_epoch(_w_sock);if(!_w_pulp){return}if(window._w_rail){window._w_rail.notifyPushImage(_w_pulp)}let _w_spoke=_w_midget(_w_pulp);let _w_trivia=_w_muscle(window._w_lot[_w_pulp].url);let _w_rout=function(item,_w_taper,_w_ivory){if(_w_toil(item)){}else if(!_w_spoke[item]){_w_spoke[item]=_w_taper;_w_spoke.push(item)}else{let _w_prey=0;if(_w_taper.title&&_w_taper.title.length>0&&_w_spoke[item].title!=_w_taper.title){_w_spoke[item].title=_w_taper.title;_w_prey|=1}if(_w_taper.alt&&_w_taper.alt.length>0&&_w_spoke[item].alt!=_w_taper.alt){_w_spoke[item].alt=_w_taper.alt;_w_prey|=2}let _w_curfew=_w_thatch[_w_spoke[item].source];let _w_mosaic=_w_thatch[_w_taper.source];if(_w_taper.referer&&_w_taper.referer.length>0&&_w_spoke[item].referer!=_w_taper.referer){if(!_w_spoke[item].referer||_w_mosaic>_w_curfew){_w_spoke[item].referer=_w_taper.referer;_w_prey|=4}}if(_w_taper.serial&&(_w_taper.serial<_w_spoke[item].serial&&_w_mosaic>_w_thatch["_w_glaze"]||_w_curfew<=_w_thatch["_w_glaze"])){_w_spoke[item].serial=_w_taper.serial;_w_prey|=8;if(_w_curfew<=_w_thatch["_w_glaze"]){_w_spoke[item].source=_w_taper.source;_w_prey|=32}}if(_w_prey>0)_w_ivory[_w_spoke.indexOf(item)]=_w_prey}};let _w_ivory={};for(let item in _w_sock){try{let _w_taper=_w_sock[item];item=_w_mettle(item);_w_taper.referer=_w_mettle(_w_taper.referer);if(_w_trivia)item=_w_phial(item);try{let _w_glitch=_w_gloom(item);for(let ridx in _w_glitch){_w_rout(_w_glitch[ridx],_w_taper,_w_ivory)}}catch(exception){}_w_rout(item,_w_taper,_w_ivory)}catch(exception){}}chrome.runtime.sendMessage(_w_gulch(),{type:"_w_unison",extractorHash:_w_rudder(_w_pulp)});if(Object.keys(_w_ivory).length>0){chrome.runtime.sendMessage(_w_gulch(),{type:"_w_apron",extractorHash:_w_rudder(_w_pulp),ItemIdxMap:_w_ivory})}}function _w_toll(_w_gong,_w_pulp,_w_poise){let _w_flail=_w_savant(_w_pulp);for(let _w_flair in _w_gong){if(_w_flair.indexOf(_w_legacy)==0||_w_flair.indexOf(_w_tariff)==0){continue}if(_w_flail&&(!_w_flail[_w_flair]||_w_flail[_w_flair].length==0||_w_poise)){_w_flail[_w_flair]=_w_gong[_w_flair]}}}function _w_canto(_w_pulp,_w_escort,_w_volley){function createCallback(_w_pulp,injectDetails,innerCallback){return function(){chrome.tabs.executeScript(_w_pulp,injectDetails,innerCallback)}}while(_w_escort.length>0){_w_volley=createCallback(_w_pulp,_w_escort.pop(),_w_volley)}if(_w_volley!==null){_w_volley()}}function _w_ram(_w_pulp,_w_escort,_w_volley){function createCallback(_w_pulp,_w_brute,_w_parley){return function(){chrome.tabs.insertCSS(_w_pulp,_w_brute,_w_parley)}}while(_w_escort.length>0){_w_volley=createCallback(_w_pulp,_w_escort.pop(),_w_volley)}if(_w_volley!==null){_w_volley()}}chrome.commands.onCommand.addListener((function(command){if(command=="command_extract_images"){_w_willow(0)}else if(command=="command_multi_extract_images"){_w_mime()}}));function _w_snatch(){let _w_toxin={width:10,height:10};let _w_skiff=Number.parseInt(_w_nomad("defaultFunnelWidth"));let _w_icon=Number.parseInt(_w_nomad("defaultFunnelHeight"));_w_skiff&&_w_skiff>0&&(_w_toxin.width=_w_skiff);_w_icon&&_w_icon>0&&(_w_toxin.height=_w_icon);return _w_toxin}function _w_seam(width,height){let _w_skiff=Number.parseInt(width);let _w_icon=Number.parseInt(height);_w_skiff&&_w_bog("defaultFunnelWidth",_w_skiff);_w_icon&&_w_bog("defaultFunnelHeight",_w_icon)}function _w_dearth(){let _w_bench;let _w_awning=_w_nomad("image_size");_w_awning?_w_bench=_w_sheath(_w_awning.split(",")):_w_bench=_w_lumen();return _w_bench}function _w_lumen(){return _w_sheath(_w_troupe.slice(0))}function _w_tutor(){let _w_bench=_w_lumen();_w_bog("image_size",_w_bench)}function _w_doyen(){if(localStorage["_w_groan"]=="jpg"){return"jpg"}else if(localStorage["_w_groan"]=="png"){return"png"}else{_w_pitch("png");return"png"}}function _w_pitch(format){if(format=="jpg")localStorage["_w_groan"]="jpg";else localStorage["_w_groan"]="png"}const _w_cachet=(()=>{const default_config={};_w_cadet.forEach((suffix=>default_config[suffix]=false));return default_config})();function _w_craft(_w_gist){if(!_w_gist)return false;_w_gist=_w_gist.replace(/\./gi,"");let _w_tint=_w_roster();if(_w_gist==_w_doyen()){return false}else if(_w_tint[_w_gist]==true){return true}else if(typeof _w_tint[_w_gist]=="undefined"&&_w_tint["_"]){return true}else{return false}}function _w_deed(){let _w_crate=parseInt(localStorage["inspectConfig"]);if(isNaN(_w_crate)){_w_crate=1+2}_w_crate&=1+2;return _w_crate}function _w_sanity(config){let _w_crate=parseInt(config);if(isNaN(_w_crate)){_w_crate=1+2}localStorage["inspectConfig"]=_w_crate&1+2}function _w_roster(){let _w_tint={..._w_cachet};const _w_ore=localStorage["convert_format_when_downloading"];if(_w_ore){try{Object.assign(_w_tint,JSON.parse(_w_ore))}catch(e){}}if(_w_slosh){_w_tint={..._w_tint,svg:true,ico:true,webp:true}}return _w_tint}function _w_plight(_w_vanity){let _w_tint={..._w_cachet};if(_w_vanity){Object.keys(_w_tint).forEach((key=>{if(_w_vanity[key]){_w_tint[key]=true}else{_w_tint[key]=false}}))}localStorage["convert_format_when_downloading"]=JSON.stringify(_w_tint)}function _w_spool(width,height){let _w_lace=Number.parseInt(width);let _w_bulb=Number.parseInt(height);let _w_tipple=_w_lace&&_w_bulb?_w_lace+"x"+_w_bulb:null;let _w_bench=_w_dearth();if(!_w_bench[_w_tipple]){_w_bench.push(_w_tipple);_w_bench=_w_sheath(_w_bench);_w_bench[_w_tipple]={width:_w_lace,height:_w_bulb};_w_bog("image_size",_w_bench)}}function _w_pedal(width,height){let _w_lace=Number.parseInt(width);let _w_bulb=Number.parseInt(height);let _w_wag=_w_lace&&_w_bulb?_w_lace+"x"+_w_bulb:null;let _w_bench=_w_dearth();if(_w_bench[_w_wag]){delete _w_bench[_w_wag];let _w_scarp=_w_bench.indexOf(_w_wag);_w_scarp>-1&&_w_bench.splice(_w_scarp,1);_w_bog("image_size",_w_bench)}}function _w_valve(){let _w_pilot=27;let _w_demise=31;let _w_icicle=Number.parseInt(_w_nomad("menu_status"));if(_w_icicle>=0){_w_pilot=_w_demise&_w_icicle}return _w_pilot}function _w_mint(status){let _w_demise=31;let _w_fungi=Number.parseInt(status);if(_w_fungi>=0){_w_fungi=_w_fungi&_w_demise;_w_bog("menu_status",_w_fungi)}chrome.runtime.sendMessage(chrome.runtime.id,{type:"_w_raffle"})}function _w_foil(){let _w_flask=_w_gulch();let _w_beacon=_w_nomad(_w_flask);if(!_w_beacon||_w_beacon.length<32){_w_bog(_w_flask,_w_ire(32));_w_beacon=_w_nomad(_w_flask)}return _w_beacon}function _w_clamp(){let _w_affix=Number.parseInt(localStorage["dyLoadSize"]);if(!_w_affix){_w_affix=256;_w_pygmy(_w_affix)}return _w_affix}function _w_pygmy(_w_mite){_w_mite=Number.parseInt(_w_mite);if(!_w_mite)_w_mite=256;else if(_w_mite<64)_w_mite=64;else if(_w_mite>2048)_w_mite=2048;localStorage["dyLoadSize"]=_w_mite}function _w_snare(){let _w_snivel=Number.parseInt(localStorage["extMaxLoad"]);if(!_w_snivel){_w_snivel=1024;_w_canon(_w_snivel)}return _w_snivel}function _w_canon(_w_herd){_w_herd=Number.parseInt(_w_herd);if(!_w_herd)_w_herd=1024;else if(_w_herd<1024)_w_herd=1024;else if(_w_herd>4096)_w_herd=4096;localStorage["extMaxLoad"]=_w_herd}function _w_toady(){let _w_heir=localStorage["extClickAct"];if(typeof _w_heir=="undefined"){_w_heir=false;_w_fervor(_w_heir)}return _w_heir}function _w_fervor(_w_taboo){if(_w_taboo){_w_taboo=true}else{_w_taboo=false}localStorage["extClickAct"]=_w_taboo}function _w_ditty(){let _w_azure=localStorage["regexpUrlRule"];if(!_w_azure||_w_azure.trim().length==0){_w_azure=window._w_helot;setTimeout((function(){_w_aspect(_w_azure)}),2e3)}return _w_azure}function _w_aspect(_w_merit){localStorage["regexpUrlRule"]=_w_merit;return _w_fiend()}function _w_fiend(){let _w_feud=[];let _w_tissue=[];let _w_spurn=localStorage["_pullywood_RegexpUrlRule"];if(!_w_spurn){_w_spurn=""}let _w_malice=_w_ditty().concat("\n\r").concat(window._w_helot).concat("\n\r").concat(_w_spurn).split(/[\n\r]+/);window._w_plait=_w_bout();for(let idx in _w_malice){let _w_orchid=_w_malice[idx].trim();if(_w_orchid.length==0||_w_orchid.startsWith("//")||_w_orchid.split("{#^_^#}").length!=2){continue}else{if(window._w_plait.has(_w_orchid))continue;window._w_plait.add(_w_orchid);let _w_scrap=_w_orchid.split("{#^_^#}");let _w_gnome=_w_scrap[0];let _w_school=_w_scrap[1];try{_w_gnome=new RegExp(_w_gnome);_w_feud.push({urlRegexp:_w_gnome,urlReplace:_w_school,urlRuleStr:_w_orchid})}catch(exception){_w_tissue.push(_w_gnome)}}}window._w_clot=_w_feud;return _w_tissue}function _w_nomad(_w_alcove){if(!_w_alcove||_w_alcove.length==0)return;let _w_spike=localStorage[_w_alcove];chrome.storage.sync.get(_w_alcove,(function(data){let _w_core=data[_w_alcove];if((!_w_core||_w_core.length==0)&&_w_spike&&_w_spike.length>0){_w_bog(_w_alcove,_w_spike)}else if(_w_core&&_w_spike!=_w_core&&_w_core.length>0){localStorage[_w_alcove]=_w_core}}));return _w_spike}function _w_bog(keyStr,valueStr){valueStr=String(valueStr);if(!keyStr||keyStr.length==0||!valueStr||valueStr.length==0)return;if(keyStr==_w_gulch()){chrome.storage.sync.get(keyStr,(function(data){let _w_core=data[keyStr];if((!_w_core||_w_core.length!=32)&&valueStr.length==32){let _w_soil={};_w_soil[keyStr]=valueStr;chrome.storage.sync.set(_w_soil,(function(){}));localStorage[keyStr]=valueStr}else{localStorage[keyStr]=_w_core}}));return}let _w_soil={};_w_soil[keyStr]=valueStr;chrome.storage.sync.set(_w_soil,(function(){}));localStorage[keyStr]=valueStr}chrome.storage.onChanged.addListener((function(changes,namespace){for(let key in changes){let _w_moat=changes[key];localStorage[key]=_w_moat.newValue}}));$.ajax({method:"get",url:"https://www.pullywood.com/ImageAssistant/version.json?"+Math.random(),contentType:"application/json",mimeType:"application/json"}).done((function(data){let _w_band=/Firefox/i.test(navigator.userAgent)?"version_firefox":/Edg/i.test(navigator.userAgent)?"version_edge":"version";data&&data[_w_band]&&(localStorage["version"]=data[_w_band])})).always((function(){if(localStorage["version"]&&localStorage["version"]>chrome.runtime.getManifest().version){chrome.browserAction.setBadgeText({text:"new"});chrome.browserAction.setBadgeBackgroundColor({color:"#FF3F3F"})}else{chrome.browserAction.setBadgeText({text:null});chrome.browserAction.setBadgeBackgroundColor({color:"#4285F4"})}}));function _w_spunk(){return window._w_pestle++}function _w_wrist(_w_vent,_w_cellar,tabId,_w_axle,_w_skewer){_w_axle();_w_vent["timeout"]=_w_writ;_w_vent["headers"]["Accept"]="*/*; charset=UTF-8";_w_vent["headers"]["Cache-Control"]="no-cache, no-store, must-revalidate, max-age=0, post-check=0, pre-check=0";_w_vent["headers"]["Pragma"]="no-cache";_w_vent["headers"]["Expires"]="0";$.ajax(_w_vent).always((function(data,status,xhr){_w_skewer();if(status=="success"){let _w_maxim={};if(xhr.getAllResponseHeaders){let _w_brink=xhr.getAllResponseHeaders().split("\n");for(let idx in _w_brink){let _w_mirth=_w_brink[idx];let _w_wraith=_w_mirth.indexOf(":");let _w_libel=_w_mirth.slice(0,_w_wraith).trim();let _w_barb=_w_mirth.slice(_w_wraith+1).trim();if(_w_libel.length==0||_w_barb.length==0){continue}else if(!_w_maxim[_w_libel]){_w_maxim[_w_libel]=_w_barb}else if(typeof _w_maxim[_w_libel]=="string"){let _w_hamper=[];_w_hamper.push(_w_maxim[_w_libel]);_w_hamper.push(_w_barb);_w_maxim[_w_libel]=_w_hamper}else if(_w_maxim[_w_libel].push){_w_maxim[_w_libel].push(_w_barb)}}}xhr["responseHeaders"]=_w_maxim}chrome.tabs.sendMessage(tabId,{type:"_w_log",data:data,status:status,xhr:xhr,requestHash:_w_cellar})}))}chrome.contextMenus.create({title:_w_tango("_w_fusion"),id:"_w_mimic",contexts:["all"]},(function(){chrome.contextMenus.create({title:_w_tango("_w_riddle"),id:"_w_locale",parentId:"_w_mimic",contexts:["link"]},(function(){}));chrome.contextMenus.create({title:_w_tango("_w_flaw"),id:"_w_saddle",parentId:"_w_mimic",contexts:["link"]},(function(){}));chrome.contextMenus.create({title:_w_tango("_w_scamp"),id:"_w_den",parentId:"_w_mimic",contexts:["image"]},(function(){}));chrome.contextMenus.create({title:_w_tango("_w_hut"),id:"_w_venom",parentId:"_w_mimic",contexts:["image"]},(function(){}));chrome.contextMenus.create({title:_w_tango("_w_bait"),id:"_w_dandy",parentId:"_w_mimic",contexts:["image"]},(function(){}));chrome.contextMenus.create({title:_w_tango("_w_mutton"),id:"_w_regime",parentId:"_w_mimic",contexts:["image"]},(function(){}));chrome.contextMenus.create({title:_w_tango("_w_cuff"),id:"_w_bar",parentId:"_w_mimic",contexts:["selection"]},(function(){}));chrome.contextMenus.create({title:_w_tango("_w_fascia"),id:"_w_stupor",parentId:"_w_mimic",contexts:["selection"]},(function(){}));chrome.contextMenus.create({title:_w_tango("_w_blazon"),id:"_w_plot",parentId:"_w_mimic",contexts:["selection"]},(function(){}));chrome.contextMenus.create({title:_w_tango("_w_burial").trim(),id:"_w_weed",parentId:"_w_mimic",contexts:["page","frame"]},(function(){}));chrome.contextMenus.create({title:_w_tango("_w_pilot").trim(),id:"_w_brood",parentId:"_w_mimic",contexts:["page","frame"]},(function(){}));chrome.contextMenus.create({title:_w_tango("_w_assay").trim(),id:"_w_fray",parentId:"_w_mimic",contexts:["page","frame"]},(function(){}));chrome.contextMenus.create({title:_w_tango("_w_blotch").trim(),id:"_w_trio",parentId:"_w_mimic",contexts:["page","frame"]},(function(){}));chrome.contextMenus.create({title:_w_tango("_w_drone"),id:"_w_buggy",parentId:"_w_mimic",contexts:["page","frame"]},(function(){}));chrome.contextMenus.create({title:_w_tango("_w_peer"),id:"_w_ramp",parentId:"_w_mimic",contexts:["link"]},(function(){}));chrome.contextMenus.create({title:_w_tango("_w_dainty"),id:"_w_faucet",parentId:"_w_mimic",contexts:["image"]},(function(){}));chrome.contextMenus.create({title:_w_tango("_w_roster"),id:"_w_tract",parentId:"_w_mimic",contexts:["image"]},(function(){}))}));chrome.contextMenus.onClicked.addListener((function(info,tab){let _w_parody=null;if(info.menuItemId=="_w_faucet"){_w_parody=_w_faucet(info.srcUrl,info.pageUrl,tab.id)}else if(info.menuItemId=="_w_tract"){_w_parody=_w_tract(info.srcUrl,info.pageUrl,tab.id)}else if(info.menuItemId=="_w_den"){_w_parody=_w_den(info.srcUrl)}else if(info.menuItemId=="_w_venom"){_w_parody=_w_venom(info.srcUrl)}else if(info.menuItemId=="_w_dandy"){_w_parody=_w_dandy(info.srcUrl)}else if(info.menuItemId=="_w_bar"){_w_parody=_w_coop(info.selectionText)}else if(info.menuItemId=="_w_stupor"){_w_parody=_w_apex(info.selectionText)}else if(info.menuItemId=="_w_locale"){_w_resin(info.linkUrl,0)}else if(info.menuItemId=="_w_saddle"){_w_lurch(info.linkUrl)}else if(info.menuItemId=="_w_weed"){_w_utopia(tab.id,0)}else if(info.menuItemId=="_w_brood"){_w_utopia(tab.id,1)}else if(info.menuItemId=="_w_fray"){_w_utopia(tab.id,3)}else if(info.menuItemId=="_w_trio"){_w_mime()}else if(info.menuItemId=="_w_plot"){_w_felon(tab.id,info.selectionText)}else if(info.menuItemId=="_w_regime"){_w_felon(tab.id,info.srcUrl)}else if(info.menuItemId=="_w_ramp"){_w_felon(tab.id,info.linkUrl)}else if(info.menuItemId=="_w_buggy"){_w_felon(tab.id,info.pageUrl)}else{return}if(_w_parody){if(_w_muscle(info.pageUrl))_w_parody.url=_w_phial(_w_parody.url);_w_chore(_w_parody.url,_w_parody.action,tab.id,_w_parody.createNewTab)}}));function _w_faucet(_w_flair,_w_sluice,_w_pulp){if(!_w_flair){return}else if(!_w_flair.startsWith("data:image")&&_w_muscle(_w_sluice)){let _w_flail=_w_savant(_w_pulp);if(_w_flail[_w_flair]){_w_sluice=_w_flail[_w_flair]}}chrome.tabs.create({url:"imageEditor.html",active:true},(function(tab){_w_digit(tab.id,(function(_w_critic){chrome.tabs.sendMessage(_w_critic.id,{type:"_w_faucet",_w_sermon:_w_flair,_w_sluice:_w_sluice})}))}))}function _w_tract(_w_flair,_w_sluice,_w_pulp){if(!_w_flair.startsWith("data:image")&&_w_muscle(_w_sluice)){let _w_flail=_w_savant(_w_pulp);if(_w_flail[_w_flair]){_w_sluice=_w_flail[_w_flair]}}chrome.runtime.sendMessage(chrome.runtime.id,{type:"_w_prude",_w_sermon:_w_flair,_w_sluice:_w_sluice})}function _w_felon(_w_pulp,_w_canary){if(!_w_pulp)return;chrome.tabs.get(_w_pulp,(function(tab){let _w_pod=new URL(tab.url);if(_w_score(_w_pod.href)){chrome.runtime.sendMessage(_w_gulch(),{type:"_w_nymph",text:_w_canary})}else if(_w_pod.protocol=="http:"||_w_pod.protocol=="https:"){_w_canto(_w_pulp,[{file:"libs/jquery/3.4.1/jquery-3.4.1.min.js",allFrames:false},{file:"libs/qrcode/dist/qrcode.js",allFrames:false},{file:"libs/bootstrap/3.4.1/js/bootstrap.min.js",allFrames:false},{file:"scripts/function.js",allFrames:false},{code:"_w_nymph("+JSON.stringify(_w_canary)+", true);",allFrames:false}])}else{chrome.notifications.create("",{type:"basic",iconUrl:"./images/icon512.png",title:_w_tango("_w_canker"),message:_w_tango("_w_puddle")})}}))}